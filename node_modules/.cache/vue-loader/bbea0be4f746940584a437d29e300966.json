{"remainingRequest":"F:\\ServerPlatformWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\ServerPlatformWeb\\src\\pages\\device\\Device.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\ServerPlatformWeb\\src\\pages\\device\\Device.vue","mtime":1651512164127},{"path":"F:\\ServerPlatformWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651512135878},{"path":"F:\\ServerPlatformWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":1651512132831},{"path":"F:\\ServerPlatformWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651512135878},{"path":"F:\\ServerPlatformWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":1651512162163}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTdGFuZGFyZFRhYmxlIGZyb20gJ0AvY29tcG9uZW50cy90YWJsZS9TdGFuZGFyZFRhYmxlJwppbXBvcnQge2dldERldmljZX0gZnJvbSAiQC9zZXJ2aWNlcy9kZXZpY2UiOwpjb25zdCBjb2x1bW5zID0gWwogIHsKICAgIHRpdGxlOiAn6K6+5aSH57yW5Y+3JywKICAgIGRhdGFJbmRleDogJ2lkJwogIH0sCiAgewogICAgdGl0bGU6ICdhcHBJZCcsCiAgICBkYXRhSW5kZXg6ICdhcHBJZCcsCiAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICdkZXNjcmlwdGlvbicgfQogIH0sCiAgewogICAgdGl0bGU6ICdhcHAnLAogICAgZGF0YUluZGV4OiAnYXBwJywKICAgIHNvcnRlcjogdHJ1ZSwKICAgIG5lZWRUb3RhbDogdHJ1ZSwKICAgIC8vIGN1c3RvbVJlbmRlcjogKHRleHQpID0+IHRleHQgKyAnIOasoScKICB9LAogIHsKICAgIHRpdGxlOiAn55uR5o6n54q25oCBJywKICAgIGRhdGFJbmRleDogJ3N0YXR1cycsCiAgICBuZWVkVG90YWw6IHRydWUsCiAgICBzbG90czoge3RpdGxlOiAnc3RhdHVzVGl0bGUnfQogIH0sCiAgewogICAgdGl0bGU6ICfmm7TmlrDml7bpl7QnLAogICAgZGF0YUluZGV4OiAndXBkYXRlZEF0JywKICAgIHNvcnRlcjogdHJ1ZQogIH0sCiAgewogICAgdGl0bGU6ICfmk43kvZwnLAogICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAnYWN0aW9uJyB9CiAgfQpdOwoKY29uc3QgZGF0YVNvdXJjZSA9IFtdOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEZXZpY2UnLAogIGkxOG46IHJlcXVpcmUoJy4vaTE4bicpLAogIGNvbXBvbmVudHM6IHtTdGFuZGFyZFRhYmxlfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkdmFuY2VkOiB0cnVlLAogICAgICBjb2x1bW5zOiBjb2x1bW5zLAogICAgICBkYXRhU291cmNlOiBkYXRhU291cmNlLAogICAgICBzZWxlY3RlZFJvd3M6IFtdCiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbigpewogICAgbGV0IGRhdGEgPSB7InByb2RJZCI6MX07CiAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgIGdldERldmljZShkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgIGxldCBzb3VyY2UgPSByZXMuZGF0YTsKICAgICAgY29uc29sZS5sb2coc291cmNlWzFdKTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoO2krKyl7CiAgICAgICAgZGF0YVNvdXJjZS5wdXNoKHsKICAgICAgICAgIGtleTogaSwKICAgICAgICAgIGlkOiBzb3VyY2VbaV0uaWQsCiAgICAgICAgICBhcHBJZDogc291cmNlW2ldLmFwcElkLAogICAgICAgICAgYXBwOiBzb3VyY2VbaV0uYXBwLAogICAgICAgICAgc3RhdHVzOiBzb3VyY2VbaV0uaXNNb25pdG9yLAogICAgICAgICAgdXBkYXRlZEF0OiBzb3VyY2VbaV0udXBkYXRlZEF0CiAgICAgICAgfSkKICAgICAgfQogICAgfSk7CiAgfSwKICBhdXRob3JpemU6IHsKICAgIGRlbGV0ZVJlY29yZDogJ2RlbGV0ZScKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZVJlY29yZChrZXkpIHsKICAgICAgdGhpcy5kYXRhU291cmNlID0gdGhpcy5kYXRhU291cmNlLmZpbHRlcihpdGVtID0+IGl0ZW0ua2V5ICE9PSBrZXkpCiAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzID0gdGhpcy5zZWxlY3RlZFJvd3MuZmlsdGVyKGl0ZW0gPT4gaXRlbS5rZXkgIT09IGtleSkKICAgIH0sCiAgICB0b2dnbGVBZHZhbmNlZCAoKSB7CiAgICAgIHRoaXMuYWR2YW5jZWQgPSAhdGhpcy5hZHZhbmNlZAogICAgfSwKICAgIHJlbW92ZSAoKSB7CiAgICAgIHRoaXMuZGF0YVNvdXJjZSA9IHRoaXMuZGF0YVNvdXJjZS5maWx0ZXIoaXRlbSA9PiB0aGlzLnNlbGVjdGVkUm93cy5maW5kSW5kZXgocm93ID0+IHJvdy5rZXkgPT09IGl0ZW0ua2V5KSA9PT0gLTEpCiAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzID0gW10KICAgIH0sCiAgICBvbkNsZWFyKCkgewogICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+aCqOa4heepuuS6huWLvumAieeahOaJgOacieihjCcpCiAgICB9LAogICAgb25TdGF0dXNUaXRsZUNsaWNrKCkgewogICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+S9oOeCueWHu+S6hueKtuaAgeagj+ihqOWktCcpCiAgICB9LAogICAgb25DaGFuZ2UoKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygn6KGo5qC854q25oCB5pS55Y+Y5LqGJykKICAgIH0sCiAgICBvblNlbGVjdENoYW5nZSgpIHsKICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCfpgInkuK3ooYzmlLnlj5jkuoYnKQogICAgfSwKICAgIGFkZE5ldyAoKSB7CiAgICAgIHRoaXMuZGF0YVNvdXJjZS51bnNoaWZ0KHsKICAgICAgICBrZXk6IHRoaXMuZGF0YVNvdXJjZS5sZW5ndGgsCiAgICAgICAgbm86ICdOTyAnICsgdGhpcy5kYXRhU291cmNlLmxlbmd0aCwKICAgICAgICBkZXNjcmlwdGlvbjogJ+i/meaYr+S4gOauteaPj+i/sCcsCiAgICAgICAgY2FsbE5vOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKSwKICAgICAgICBzdGF0dXM6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSAlIDQsCiAgICAgICAgdXBkYXRlZEF0OiAnMjAxOC0wNy0yNicKICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVNZW51Q2xpY2sgKGUpIHsKICAgICAgaWYgKGUua2V5ID09PSAnZGVsZXRlJykgewogICAgICAgIHRoaXMucmVtb3ZlKCkKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["Device.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Device.vue","sourceRoot":"src/pages/device","sourcesContent":["<template>\r\n  <a-card>\r\n    <div :class=\"advanced ? 'search' : null\">\r\n      <a-form layout=\"horizontal\">\r\n        <div :class=\"advanced ? null: 'fold'\">\r\n          <a-row >\r\n            <a-col :md=\"8\" :sm=\"24\" >\r\n              <a-form-item\r\n                      label=\"规则编号\"\r\n                      :labelCol=\"{span: 5}\"\r\n                      :wrapperCol=\"{span: 18, offset: 1}\"\r\n              >\r\n                <a-input placeholder=\"请输入\" />\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\" >\r\n              <a-form-item\r\n                      label=\"使用状态\"\r\n                      :labelCol=\"{span: 5}\"\r\n                      :wrapperCol=\"{span: 18, offset: 1}\"\r\n              >\r\n                <a-select placeholder=\"请选择\">\r\n                  <a-select-option value=\"1\">关闭</a-select-option>\r\n                  <a-select-option value=\"2\">运行中</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\" >\r\n              <a-form-item\r\n                      label=\"调用次数\"\r\n                      :labelCol=\"{span: 5}\"\r\n                      :wrapperCol=\"{span: 18, offset: 1}\"\r\n              >\r\n                <a-input-number style=\"width: 100%\" placeholder=\"请输入\" />\r\n              </a-form-item>\r\n            </a-col>\r\n          </a-row>\r\n          <a-row v-if=\"advanced\">\r\n            <a-col :md=\"8\" :sm=\"24\" >\r\n              <a-form-item\r\n                      label=\"更新日期\"\r\n                      :labelCol=\"{span: 5}\"\r\n                      :wrapperCol=\"{span: 18, offset: 1}\"\r\n              >\r\n                <a-date-picker style=\"width: 100%\" placeholder=\"请输入更新日期\" />\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\" >\r\n              <a-form-item\r\n                      label=\"使用状态\"\r\n                      :labelCol=\"{span: 5}\"\r\n                      :wrapperCol=\"{span: 18, offset: 1}\"\r\n              >\r\n                <a-select placeholder=\"请选择\">\r\n                  <a-select-option value=\"1\">关闭</a-select-option>\r\n                  <a-select-option value=\"2\">运行中</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\" >\r\n              <a-form-item\r\n                      label=\"描述\"\r\n                      :labelCol=\"{span: 5}\"\r\n                      :wrapperCol=\"{span: 18, offset: 1}\"\r\n              >\r\n                <a-input placeholder=\"请输入\" />\r\n              </a-form-item>\r\n            </a-col>\r\n          </a-row>\r\n        </div>\r\n        <span style=\"float: right; margin-top: 3px;\">\r\n          <a-button type=\"primary\">查询</a-button>\r\n          <a-button style=\"margin-left: 8px\">重置</a-button>\r\n          <a @click=\"toggleAdvanced\" style=\"margin-left: 8px\">\r\n            {{advanced ? '收起' : '展开'}}\r\n            <a-icon :type=\"advanced ? 'up' : 'down'\" />\r\n          </a>\r\n        </span>\r\n      </a-form>\r\n    </div>\r\n    <div>\r\n      <a-space class=\"operator\">\r\n        <a-button @click=\"addNew\" type=\"primary\">新建</a-button>\r\n        <a-button >批量操作</a-button>\r\n        <a-dropdown>\r\n          <a-menu @click=\"handleMenuClick\" slot=\"overlay\">\r\n            <a-menu-item key=\"delete\">删除</a-menu-item>\r\n            <a-menu-item key=\"audit\">审批</a-menu-item>\r\n          </a-menu>\r\n          <a-button>\r\n            更多操作 <a-icon type=\"down\" />\r\n          </a-button>\r\n        </a-dropdown>\r\n      </a-space>\r\n      <standard-table\r\n              :columns=\"columns\"\r\n              :dataSource=\"dataSource\"\r\n              :selectedRows.sync=\"selectedRows\"\r\n              @clear=\"onClear\"\r\n              @change=\"onChange\"\r\n              @selectedRowChange=\"onSelectChange\"\r\n      >\r\n        <div slot=\"description\" slot-scope=\"{text}\">\r\n          {{text}}\r\n        </div>\r\n        <div slot=\"action\" slot-scope=\"{text, record}\">\r\n          <a style=\"margin-right: 8px\">\r\n            <a-icon type=\"plus\"/>新增\r\n          </a>\r\n          <a style=\"margin-right: 8px\">\r\n            <a-icon type=\"edit\"/>编辑\r\n          </a>\r\n          <a @click=\"deleteRecord(record.key)\">\r\n            <a-icon type=\"delete\" />删除1\r\n          </a>\r\n          <a @click=\"deleteRecord(record.key)\" v-auth=\"`delete`\">\r\n            <a-icon type=\"delete\" />删除2\r\n          </a>\r\n          <router-link :to=\"`/list/query/detail/${record.key}`\" >详情</router-link>\r\n        </div>\r\n        <template slot=\"statusTitle\">\r\n          <a-icon @click.native=\"onStatusTitleClick\" type=\"info-circle\" />\r\n        </template>\r\n      </standard-table>\r\n    </div>\r\n  </a-card>\r\n</template>\r\n\r\n<script>\r\n  import StandardTable from '@/components/table/StandardTable'\r\n  import {getDevice} from \"@/services/device\";\r\n  const columns = [\r\n    {\r\n      title: '设备编号',\r\n      dataIndex: 'id'\r\n    },\r\n    {\r\n      title: 'appId',\r\n      dataIndex: 'appId',\r\n      scopedSlots: { customRender: 'description' }\r\n    },\r\n    {\r\n      title: 'app',\r\n      dataIndex: 'app',\r\n      sorter: true,\r\n      needTotal: true,\r\n      // customRender: (text) => text + ' 次'\r\n    },\r\n    {\r\n      title: '监控状态',\r\n      dataIndex: 'status',\r\n      needTotal: true,\r\n      slots: {title: 'statusTitle'}\r\n    },\r\n    {\r\n      title: '更新时间',\r\n      dataIndex: 'updatedAt',\r\n      sorter: true\r\n    },\r\n    {\r\n      title: '操作',\r\n      scopedSlots: { customRender: 'action' }\r\n    }\r\n  ];\r\n\r\n  const dataSource = [];\r\n\r\n  export default {\r\n    name: 'Device',\r\n    i18n: require('./i18n'),\r\n    components: {StandardTable},\r\n    data () {\r\n      return {\r\n        advanced: true,\r\n        columns: columns,\r\n        dataSource: dataSource,\r\n        selectedRows: []\r\n      }\r\n    },\r\n    created: function(){\r\n      let data = {\"prodId\":1};\r\n      console.log(data);\r\n      getDevice(data).then(res => {\r\n        let source = res.data;\r\n        console.log(source[1]);\r\n        for (let i = 0; i < source.length;i++){\r\n          dataSource.push({\r\n            key: i,\r\n            id: source[i].id,\r\n            appId: source[i].appId,\r\n            app: source[i].app,\r\n            status: source[i].isMonitor,\r\n            updatedAt: source[i].updatedAt\r\n          })\r\n        }\r\n      });\r\n    },\r\n    authorize: {\r\n      deleteRecord: 'delete'\r\n    },\r\n    methods: {\r\n      deleteRecord(key) {\r\n        this.dataSource = this.dataSource.filter(item => item.key !== key)\r\n        this.selectedRows = this.selectedRows.filter(item => item.key !== key)\r\n      },\r\n      toggleAdvanced () {\r\n        this.advanced = !this.advanced\r\n      },\r\n      remove () {\r\n        this.dataSource = this.dataSource.filter(item => this.selectedRows.findIndex(row => row.key === item.key) === -1)\r\n        this.selectedRows = []\r\n      },\r\n      onClear() {\r\n        this.$message.info('您清空了勾选的所有行')\r\n      },\r\n      onStatusTitleClick() {\r\n        this.$message.info('你点击了状态栏表头')\r\n      },\r\n      onChange() {\r\n        this.$message.info('表格状态改变了')\r\n      },\r\n      onSelectChange() {\r\n        this.$message.info('选中行改变了')\r\n      },\r\n      addNew () {\r\n        this.dataSource.unshift({\r\n          key: this.dataSource.length,\r\n          no: 'NO ' + this.dataSource.length,\r\n          description: '这是一段描述',\r\n          callNo: Math.floor(Math.random() * 1000),\r\n          status: Math.floor(Math.random() * 10) % 4,\r\n          updatedAt: '2018-07-26'\r\n        })\r\n      },\r\n      handleMenuClick (e) {\r\n        if (e.key === 'delete') {\r\n          this.remove()\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .search{\r\n    margin-bottom: 54px;\r\n  }\r\n  .fold{\r\n    width: calc(100% - 216px);\r\n    display: inline-block\r\n  }\r\n  .operator{\r\n    margin-bottom: 18px;\r\n  }\r\n  @media screen and (max-width: 900px) {\r\n    .fold {\r\n      width: 100%;\r\n    }\r\n  }\r\n</style>\r\n"]}]}