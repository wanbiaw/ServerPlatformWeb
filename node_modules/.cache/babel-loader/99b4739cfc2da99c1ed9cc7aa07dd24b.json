{"remainingRequest":"F:\\ServerPlatformWeb\\node_modules\\babel-loader\\lib\\index.js!F:\\ServerPlatformWeb\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\ServerPlatformWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\ServerPlatformWeb\\src\\components\\checkbox\\ColorCheckbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\ServerPlatformWeb\\src\\components\\checkbox\\ColorCheckbox.vue","mtime":1651512164073},{"path":"F:\\ServerPlatformWeb\\babel.config.js","mtime":1651512117562},{"path":"F:\\ServerPlatformWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651512135878},{"path":"F:\\ServerPlatformWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":1651512132831},{"path":"F:\\ServerPlatformWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651512135878},{"path":"F:\\ServerPlatformWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":1651512162163}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KdmFyIEdyb3VwID0gewogIG5hbWU6ICdDb2xvckNoZWNrYm94R3JvdXAnLAogIHByb3BzOiB7CiAgICBkZWZhdWx0VmFsdWVzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIG11bHRpcGxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZXM6IFtdLAogICAgICBvcHRpb25zOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb2xvcnM6IGZ1bmN0aW9uIGNvbG9ycygpIHsKICAgICAgdmFyIGNvbG9ycyA9IFtdOwogICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtLnNDaGVja2VkKSB7CiAgICAgICAgICBjb2xvcnMucHVzaChpdGVtLmNvbG9yKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gY29sb3JzOwogICAgfQogIH0sCiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIGdyb3VwQ29udGV4dDogdGhpcwogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZXM6IGZ1bmN0aW9uIHZhbHVlcyh2YWx1ZSkgewogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB2YWx1ZSwgdGhpcy5jb2xvcnMpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2Uob3B0aW9uKSB7CiAgICAgIGlmICghb3B0aW9uLmNoZWNrZWQpIHsKICAgICAgICBpZiAodGhpcy52YWx1ZXMuaW5kZXhPZihvcHRpb24udmFsdWUpID4gLTEpIHsKICAgICAgICAgIHRoaXMudmFsdWVzID0gdGhpcy52YWx1ZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtICE9IG9wdGlvbi52YWx1ZTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHsKICAgICAgICAgIHRoaXMudmFsdWVzID0gW29wdGlvbi52YWx1ZV07CiAgICAgICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpZiAoaXRlbS52YWx1ZSAhPSBvcHRpb24udmFsdWUpIHsKICAgICAgICAgICAgICBpdGVtLnNDaGVja2VkID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKG9wdGlvbi52YWx1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7CiAgICB2YXIgY2xlYXIgPSBoKCdkaXYnLCB7CiAgICAgIGF0dHJzOiB7CiAgICAgICAgc3R5bGU6ICdjbGVhcjogYm90aCcKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gaCgnZGl2Jywge30sIFt0aGlzLiRzbG90cy5kZWZhdWx0LCBjbGVhcl0pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb2xvckNoZWNrYm94JywKICBHcm91cDogR3JvdXAsCiAgcHJvcHM6IHsKICAgIGNvbG9yOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNoZWNrZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNDaGVja2VkOiB0aGlzLmluaXRDaGVja2VkKCkKICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgaW5qZWN0OiBbJ2dyb3VwQ29udGV4dCddLAogIHdhdGNoOiB7CiAgICAnc0NoZWNrZWQnOiBmdW5jdGlvbiBzQ2hlY2tlZCgpIHsKICAgICAgdmFyIHZhbHVlID0gewogICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLAogICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLAogICAgICAgIGNoZWNrZWQ6IHRoaXMuc0NoZWNrZWQKICAgICAgfTsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdmFsdWUpOwogICAgICB2YXIgZ3JvdXBDb250ZXh0ID0gdGhpcy5ncm91cENvbnRleHQ7CgogICAgICBpZiAoZ3JvdXBDb250ZXh0KSB7CiAgICAgICAgZ3JvdXBDb250ZXh0LmhhbmRsZUNoYW5nZSh2YWx1ZSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgZ3JvdXBDb250ZXh0ID0gdGhpcy5ncm91cENvbnRleHQ7CgogICAgaWYgKGdyb3VwQ29udGV4dCkgewogICAgICBncm91cENvbnRleHQub3B0aW9ucy5wdXNoKHRoaXMpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoKSB7CiAgICAgIGlmICh0aGlzLmdyb3VwQ29udGV4dC5tdWx0aXBsZSB8fCAhdGhpcy5zQ2hlY2tlZCkgewogICAgICAgIHRoaXMuc0NoZWNrZWQgPSAhdGhpcy5zQ2hlY2tlZDsKICAgICAgfQogICAgfSwKICAgIGluaXRDaGVja2VkOiBmdW5jdGlvbiBpbml0Q2hlY2tlZCgpIHsKICAgICAgdmFyIGdyb3VwQ29udGV4dCA9IHRoaXMuZ3JvdXBDb250ZXh0OwoKICAgICAgaWYgKCFncm91cENvbnRleHQpIHsKICAgICAgICByZXR1cm4gdGhpcy5jaGVja2VkOwogICAgICB9IGVsc2UgaWYgKGdyb3VwQ29udGV4dC5tdWx0aXBsZSkgewogICAgICAgIHJldHVybiBncm91cENvbnRleHQuZGVmYXVsdFZhbHVlcy5pbmRleE9mKHRoaXMudmFsdWUpID4gLTE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGdyb3VwQ29udGV4dC5kZWZhdWx0VmFsdWVzWzBdID09IHRoaXMudmFsdWU7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;AAOA;AACAA,4BADA;AAEAC;AACAC;AACAC,iBADA;AAEAC,qBAFA;AAGAC;AAAA;AAAA;AAHA,KADA;AAMAC;AACAH,mBADA;AAEAC,qBAFA;AAGAC;AAHA;AANA,GAFA;AAcAE,MAdA,kBAcA;AACA;AACAC,gBADA;AAEAC;AAFA;AAIA,GAnBA;AAoBAC;AACAC,UADA,oBACA;AACA;AACA;AACA;AACAA;AACA;AACA,OAJA;AAKA;AACA;AATA,GApBA;AA+BAC,SA/BA,qBA+BA;AACA;AACAC;AADA;AAGA,GAnCA;AAoCAC;AACAN,UADA,kBACAO,KADA,EACA;AACA;AACA;AAHA,GApCA;AAyCAC;AACAC,gBADA,wBACAC,MADA,EACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACAC;AACA;AACA,WAJA;AAKA,SAPA,MAOA;AACA;AACA;AACA;AACA;AAlBA,GAzCA;AA6DAC,QA7DA,kBA6DAC,CA7DA,EA6DA;AACA;AAAAC;AAAAC;AAAA;AAAA;AACA,aACA,KADA,EAEA,EAFA,EAGA,4BAHA;AAKA;AApEA;AAuEA;AACAvB,uBADA;AAEAwB,cAFA;AAGAvB;AACAwB;AACAtB,kBADA;AAEAC;AAFA,KADA;AAKAW;AACAZ,4BADA;AAEAC;AAFA,KALA;AASAsB;AACAvB,mBADA;AAEAC,qBAFA;AAGAC;AAHA;AATA,GAHA;AAkBAE,MAlBA,kBAkBA;AACA;AACAoB;AADA;AAGA,GAtBA;AAuBAjB,cAvBA;AAyBAkB,0BAzBA;AA0BAd;AACA;AACA;AACAC,yBADA;AAEAU,yBAFA;AAGAC;AAHA;AAKA;AACA;;AACA;AACAb;AACA;AACA;AAZA,GA1BA;AAwCAgB,SAxCA,qBAwCA;AACA;;AACA;AACAhB;AACA;AACA,GA7CA;AA8CAG;AACAc,UADA,oBACA;AACA;AACA;AACA;AACA,KALA;AAMAC,eANA,yBAMA;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AAfA;AA9CA","names":["name","props","defaultValues","type","required","default","multiple","data","values","options","computed","colors","provide","groupContext","watch","value","methods","handleChange","option","item","render","h","attrs","style","Group","color","checked","sChecked","inject","created","toggle","initChecked"],"sourceRoot":"src/components/checkbox","sources":["ColorCheckbox.vue"],"sourcesContent":["<template>\r\n  <div class=\"theme-color\" :style=\"{backgroundColor: color}\" @click=\"toggle\">\r\n    <a-icon v-if=\"sChecked\" type=\"check\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst Group = {\r\n  name: 'ColorCheckboxGroup',\r\n  props: {\r\n    defaultValues: {\r\n      type: Array,\r\n      required: false,\r\n      default: () => []\r\n    },\r\n    multiple: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      values: [],\r\n      options: []\r\n    }\r\n  },\r\n  computed: {\r\n    colors () {\r\n      let colors = []\r\n      this.options.forEach(item => {\r\n        if (item.sChecked) {\r\n          colors.push(item.color)\r\n        }\r\n      })\r\n      return colors\r\n    }\r\n  },\r\n  provide () {\r\n    return {\r\n      groupContext: this\r\n    }\r\n  },\r\n  watch: {\r\n    values(value) {\r\n      this.$emit('change', value, this.colors)\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange (option) {\r\n      if (!option.checked) {\r\n        if (this.values.indexOf(option.value) > -1) {\r\n          this.values = this.values.filter(item => item != option.value)\r\n        }\r\n      } else {\r\n        if (!this.multiple) {\r\n          this.values = [option.value]\r\n          this.options.forEach(item => {\r\n            if (item.value != option.value) {\r\n              item.sChecked = false\r\n            }\r\n          })\r\n        } else {\r\n          this.values.push(option.value)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  render (h) {\r\n    const clear = h('div', {attrs: {style: 'clear: both'}})\r\n    return h(\r\n      'div',\r\n      {},\r\n      [this.$slots.default, clear]\r\n    )\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'ColorCheckbox',\r\n  Group: Group,\r\n  props: {\r\n    color: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    value: {\r\n      type: [String, Number],\r\n      required: true\r\n    },\r\n    checked: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      sChecked: this.initChecked()\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  inject: ['groupContext'],\r\n  watch: {\r\n    'sChecked': function () {\r\n      const value = {\r\n        value: this.value,\r\n        color: this.color,\r\n        checked: this.sChecked\r\n      }\r\n      this.$emit('change', value)\r\n      const groupContext = this.groupContext\r\n      if (groupContext) {\r\n        groupContext.handleChange(value)\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    const groupContext = this.groupContext\r\n    if (groupContext) {\r\n      groupContext.options.push(this)\r\n    }\r\n  },\r\n  methods: {\r\n    toggle () {\r\n      if (this.groupContext.multiple || !this.sChecked) {\r\n        this.sChecked = !this.sChecked\r\n      }\r\n    },\r\n    initChecked() {\r\n      let groupContext = this.groupContext\r\n      if (!groupContext) {\r\n        return this.checked\r\n      }else if (groupContext.multiple) {\r\n        return groupContext.defaultValues.indexOf(this.value) > -1\r\n      } else {\r\n        return groupContext.defaultValues[0] == this.value\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .theme-color{\r\n    float: left;\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 2px;\r\n    cursor: pointer;\r\n    margin-right: 8px;\r\n    text-align: center;\r\n    color: @base-bg-color;\r\n    font-weight: bold;\r\n  }\r\n</style>\r\n"]}]}