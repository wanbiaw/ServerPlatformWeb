{"remainingRequest":"D:\\ServerPlatformWeb\\node_modules\\babel-loader\\lib\\index.js!D:\\ServerPlatformWeb\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\ServerPlatformWeb\\src\\utils\\request.js","dependencies":[{"path":"D:\\ServerPlatformWeb\\src\\utils\\request.js","mtime":1649217944444},{"path":"D:\\ServerPlatformWeb\\babel.config.js","mtime":1649217944413},{"path":"D:\\ServerPlatformWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ServerPlatformWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\ServerPlatformWeb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovU2VydmVyUGxhdGZvcm1XZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovU2VydmVyUGxhdGZvcm1XZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBDb29raWUgZnJvbSAnanMtY29va2llJzsgLy8g6Leo5Z+f6K6k6K+B5L+h5oGvIGhlYWRlciDlkI0KCnZhciB4c3JmSGVhZGVyTmFtZSA9ICdBdXRob3JpemF0aW9uJzsKYXhpb3MuZGVmYXVsdHMudGltZW91dCA9IDUwMDA7CmF4aW9zLmRlZmF1bHRzLndpdGhDcmVkZW50aWFscyA9IHRydWU7CmF4aW9zLmRlZmF1bHRzLnhzcmZIZWFkZXJOYW1lID0geHNyZkhlYWRlck5hbWU7CmF4aW9zLmRlZmF1bHRzLnhzcmZDb29raWVOYW1lID0geHNyZkhlYWRlck5hbWU7IC8vIOiupOivgeexu+WeiwoKdmFyIEFVVEhfVFlQRSA9IHsKICBCRUFSRVI6ICdCZWFyZXInLAogIEJBU0lDOiAnYmFzaWMnLAogIEFVVEgxOiAnYXV0aDEnLAogIEFVVEgyOiAnYXV0aDInCn07IC8vIGh0dHAgbWV0aG9kCgp2YXIgTUVUSE9EID0gewogIEdFVDogJ2dldCcsCiAgUE9TVDogJ3Bvc3QnCn07Ci8qKg0KICogYXhpb3Por7fmsYINCiAqIEBwYXJhbSB1cmwg6K+35rGC5Zyw5Z2ADQogKiBAcGFyYW0gbWV0aG9kIHtNRVRIT0R9IGh0dHAgbWV0aG9kDQogKiBAcGFyYW0gcGFyYW1zIOivt+axguWPguaVsA0KICogQHJldHVybnMge1Byb21pc2U8QXhpb3NSZXNwb25zZTxUPj59DQogKi8KCmZ1bmN0aW9uIHJlcXVlc3QoX3gsIF94MiwgX3gzLCBfeDQpIHsKICByZXR1cm4gX3JlcXVlc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQovKioNCiAqIOiuvue9ruiupOivgeS/oeaBrw0KICogQHBhcmFtIGF1dGgge09iamVjdH0NCiAqIEBwYXJhbSBhdXRoVHlwZSB7QVVUSF9UWVBFfSDorqTor4HnsbvlnovvvIzpu5jorqTvvJp7QVVUSF9UWVBFLkJFQVJFUn0NCiAqLwoKCmZ1bmN0aW9uIF9yZXF1ZXN0KCkgewogIF9yZXF1ZXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHVybCwgbWV0aG9kLCBwYXJhbXMsIGNvbmZpZykgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC50MCA9IG1ldGhvZDsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IF9jb250ZXh0LnQwID09PSBNRVRIT0QuR0VUID8gMyA6IF9jb250ZXh0LnQwID09PSBNRVRIT0QuUE9TVCA/IDQgOiA1OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGF4aW9zLmdldCh1cmwsIF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgICAgICAgIH0sIGNvbmZpZykpKTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGF4aW9zLnBvc3QodXJsLCBwYXJhbXMsIGNvbmZpZykpOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgYXhpb3MuZ2V0KHVybCwgX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgICAgICAgfSwgY29uZmlnKSkpOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF9yZXF1ZXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIHNldEF1dGhvcml6YXRpb24oYXV0aCkgewogIHZhciBhdXRoVHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogQVVUSF9UWVBFLkJFQVJFUjsKCiAgc3dpdGNoIChhdXRoVHlwZSkgewogICAgY2FzZSBBVVRIX1RZUEUuQkVBUkVSOgogICAgICBDb29raWUuc2V0KHhzcmZIZWFkZXJOYW1lLCAnQmVhcmVyICcgKyBhdXRoLnRva2VuLCB7CiAgICAgICAgZXhwaXJlczogYXV0aC5leHBpcmVBdAogICAgICB9KTsKICAgICAgYnJlYWs7CgogICAgY2FzZSBBVVRIX1RZUEUuQkFTSUM6CiAgICBjYXNlIEFVVEhfVFlQRS5BVVRIMToKICAgIGNhc2UgQVVUSF9UWVBFLkFVVEgyOgogICAgZGVmYXVsdDoKICAgICAgYnJlYWs7CiAgfQp9Ci8qKg0KICog56e75Ye66K6k6K+B5L+h5oGvDQogKiBAcGFyYW0gYXV0aFR5cGUge0FVVEhfVFlQRX0g6K6k6K+B57G75Z6LDQogKi8KCgpmdW5jdGlvbiByZW1vdmVBdXRob3JpemF0aW9uKCkgewogIHZhciBhdXRoVHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogQVVUSF9UWVBFLkJFQVJFUjsKCiAgc3dpdGNoIChhdXRoVHlwZSkgewogICAgY2FzZSBBVVRIX1RZUEUuQkVBUkVSOgogICAgICBDb29raWUucmVtb3ZlKHhzcmZIZWFkZXJOYW1lKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSBBVVRIX1RZUEUuQkFTSUM6CiAgICBjYXNlIEFVVEhfVFlQRS5BVVRIMToKICAgIGNhc2UgQVVUSF9UWVBFLkFVVEgyOgogICAgZGVmYXVsdDoKICAgICAgYnJlYWs7CiAgfQp9Ci8qKg0KICog5qOA5p+l6K6k6K+B5L+h5oGvDQogKiBAcGFyYW0gYXV0aFR5cGUNCiAqIEByZXR1cm5zIHtib29sZWFufQ0KICovCgoKZnVuY3Rpb24gY2hlY2tBdXRob3JpemF0aW9uKCkgewogIHZhciBhdXRoVHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogQVVUSF9UWVBFLkJFQVJFUjsKCiAgc3dpdGNoIChhdXRoVHlwZSkgewogICAgY2FzZSBBVVRIX1RZUEUuQkVBUkVSOgogICAgICBpZiAoQ29va2llLmdldCh4c3JmSGVhZGVyTmFtZSkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgYnJlYWs7CgogICAgY2FzZSBBVVRIX1RZUEUuQkFTSUM6CiAgICBjYXNlIEFVVEhfVFlQRS5BVVRIMToKICAgIGNhc2UgQVVUSF9UWVBFLkFVVEgyOgogICAgZGVmYXVsdDoKICAgICAgYnJlYWs7CiAgfQoKICByZXR1cm4gZmFsc2U7Cn0KLyoqDQogKiDliqDovb0gYXhpb3Mg5oum5oiq5ZmoDQogKiBAcGFyYW0gaW50ZXJjZXB0b3JzDQogKiBAcGFyYW0gb3B0aW9ucw0KICovCgoKZnVuY3Rpb24gbG9hZEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcnMsIG9wdGlvbnMpIHsKICB2YXIgcmVxdWVzdCA9IGludGVyY2VwdG9ycy5yZXF1ZXN0LAogICAgICByZXNwb25zZSA9IGludGVyY2VwdG9ycy5yZXNwb25zZTsgLy8g5Yqg6L296K+35rGC5oum5oiq5ZmoCgogIHJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgdmFyIG9uRnVsZmlsbGVkID0gaXRlbS5vbkZ1bGZpbGxlZCwKICAgICAgICBvblJlamVjdGVkID0gaXRlbS5vblJlamVjdGVkOwoKICAgIGlmICghb25GdWxmaWxsZWQgfHwgdHlwZW9mIG9uRnVsZmlsbGVkICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgIG9uRnVsZmlsbGVkID0gZnVuY3Rpb24gb25GdWxmaWxsZWQoY29uZmlnKSB7CiAgICAgICAgcmV0dXJuIGNvbmZpZzsKICAgICAgfTsKICAgIH0KCiAgICBpZiAoIW9uUmVqZWN0ZWQgfHwgdHlwZW9mIG9uUmVqZWN0ZWQgIT09ICdmdW5jdGlvbicpIHsKICAgICAgb25SZWplY3RlZCA9IGZ1bmN0aW9uIG9uUmVqZWN0ZWQoZXJyb3IpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9OwogICAgfQoKICAgIGF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgICAgIHJldHVybiBvbkZ1bGZpbGxlZChjb25maWcsIG9wdGlvbnMpOwogICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIHJldHVybiBvblJlamVjdGVkKGVycm9yLCBvcHRpb25zKTsKICAgIH0pOwogIH0pOyAvLyDliqDovb3lk43lupTmi6bmiKrlmagKCiAgcmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgdmFyIG9uRnVsZmlsbGVkID0gaXRlbS5vbkZ1bGZpbGxlZCwKICAgICAgICBvblJlamVjdGVkID0gaXRlbS5vblJlamVjdGVkOwoKICAgIGlmICghb25GdWxmaWxsZWQgfHwgdHlwZW9mIG9uRnVsZmlsbGVkICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgIG9uRnVsZmlsbGVkID0gZnVuY3Rpb24gb25GdWxmaWxsZWQocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICAgIH07CiAgICB9CgogICAgaWYgKCFvblJlamVjdGVkIHx8IHR5cGVvZiBvblJlamVjdGVkICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgIG9uUmVqZWN0ZWQgPSBmdW5jdGlvbiBvblJlamVjdGVkKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICAgICAgfTsKICAgIH0KCiAgICBheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICByZXR1cm4gb25GdWxmaWxsZWQocmVzcG9uc2UsIG9wdGlvbnMpOwogICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIHJldHVybiBvblJlamVjdGVkKGVycm9yLCBvcHRpb25zKTsKICAgIH0pOwogIH0pOwp9Ci8qKg0KICog6Kej5p6QIHVybCDkuK3nmoTlj4LmlbANCiAqIEBwYXJhbSB1cmwNCiAqIEByZXR1cm5zIHtPYmplY3R9DQogKi8KCgpmdW5jdGlvbiBwYXJzZVVybFBhcmFtcyh1cmwpIHsKICB2YXIgcGFyYW1zID0ge307CgogIGlmICghdXJsIHx8IHVybCA9PT0gJycgfHwgdHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHsKICAgIHJldHVybiBwYXJhbXM7CiAgfQoKICB2YXIgcGFyYW1zU3RyID0gdXJsLnNwbGl0KCc/JylbMV07CgogIGlmICghcGFyYW1zU3RyKSB7CiAgICByZXR1cm4gcGFyYW1zOwogIH0KCiAgdmFyIHBhcmFtc0FyciA9IHBhcmFtc1N0ci5yZXBsYWNlKC8mfD0vZywgJyAnKS5zcGxpdCgnICcpOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmFtc0Fyci5sZW5ndGggLyAyOyBpKyspIHsKICAgIHZhciB2YWx1ZSA9IHBhcmFtc0FycltpICogMiArIDFdOwogICAgcGFyYW1zW3BhcmFtc0FycltpICogMl1dID0gdmFsdWUgPT09ICd0cnVlJyA/IHRydWUgOiB2YWx1ZSA9PT0gJ2ZhbHNlJyA/IGZhbHNlIDogdmFsdWU7CiAgfQoKICByZXR1cm4gcGFyYW1zOwp9CgpleHBvcnQgeyBNRVRIT0QsIEFVVEhfVFlQRSwgcmVxdWVzdCwgc2V0QXV0aG9yaXphdGlvbiwgcmVtb3ZlQXV0aG9yaXphdGlvbiwgY2hlY2tBdXRob3JpemF0aW9uLCBsb2FkSW50ZXJjZXB0b3JzLCBwYXJzZVVybFBhcmFtcyB9Ow=="},{"version":3,"sources":["D:/ServerPlatformWeb/src/utils/request.js"],"names":["axios","Cookie","xsrfHeaderName","defaults","timeout","withCredentials","xsrfCookieName","AUTH_TYPE","BEARER","BASIC","AUTH1","AUTH2","METHOD","GET","POST","request","url","method","params","config","get","post","setAuthorization","auth","authType","set","token","expires","expireAt","removeAuthorization","remove","checkAuthorization","loadInterceptors","interceptors","options","response","forEach","item","onFulfilled","onRejected","error","Promise","reject","use","parseUrlParams","paramsStr","split","paramsArr","replace","i","length","value"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport Cookie from 'js-cookie'\r\n\r\n// 跨域认证信息 header 名\r\nconst xsrfHeaderName = 'Authorization'\r\n\r\naxios.defaults.timeout = 5000\r\naxios.defaults.withCredentials= true\r\naxios.defaults.xsrfHeaderName= xsrfHeaderName\r\naxios.defaults.xsrfCookieName= xsrfHeaderName\r\n\r\n// 认证类型\r\nconst AUTH_TYPE = {\r\n  BEARER: 'Bearer',\r\n  BASIC: 'basic',\r\n  AUTH1: 'auth1',\r\n  AUTH2: 'auth2',\r\n}\r\n\r\n// http method\r\nconst METHOD = {\r\n  GET: 'get',\r\n  POST: 'post'\r\n}\r\n\r\n/**\r\n * axios请求\r\n * @param url 请求地址\r\n * @param method {METHOD} http method\r\n * @param params 请求参数\r\n * @returns {Promise<AxiosResponse<T>>}\r\n */\r\nasync function request(url, method, params, config) {\r\n  switch (method) {\r\n    case METHOD.GET:\r\n      return axios.get(url, {params, ...config})\r\n    case METHOD.POST:\r\n      return axios.post(url, params, config)\r\n    default:\r\n      return axios.get(url, {params, ...config})\r\n  }\r\n}\r\n\r\n/**\r\n * 设置认证信息\r\n * @param auth {Object}\r\n * @param authType {AUTH_TYPE} 认证类型，默认：{AUTH_TYPE.BEARER}\r\n */\r\nfunction setAuthorization(auth, authType = AUTH_TYPE.BEARER) {\r\n  switch (authType) {\r\n    case AUTH_TYPE.BEARER:\r\n      Cookie.set(xsrfHeaderName, 'Bearer ' + auth.token, {expires: auth.expireAt})\r\n      break\r\n    case AUTH_TYPE.BASIC:\r\n    case AUTH_TYPE.AUTH1:\r\n    case AUTH_TYPE.AUTH2:\r\n    default:\r\n      break\r\n  }\r\n}\r\n\r\n/**\r\n * 移出认证信息\r\n * @param authType {AUTH_TYPE} 认证类型\r\n */\r\nfunction removeAuthorization(authType = AUTH_TYPE.BEARER) {\r\n  switch (authType) {\r\n    case AUTH_TYPE.BEARER:\r\n      Cookie.remove(xsrfHeaderName)\r\n      break\r\n    case AUTH_TYPE.BASIC:\r\n    case AUTH_TYPE.AUTH1:\r\n    case AUTH_TYPE.AUTH2:\r\n    default:\r\n      break\r\n  }\r\n}\r\n\r\n/**\r\n * 检查认证信息\r\n * @param authType\r\n * @returns {boolean}\r\n */\r\nfunction checkAuthorization(authType = AUTH_TYPE.BEARER) {\r\n  switch (authType) {\r\n    case AUTH_TYPE.BEARER:\r\n      if (Cookie.get(xsrfHeaderName)) {\r\n        return true\r\n      }\r\n      break\r\n    case AUTH_TYPE.BASIC:\r\n    case AUTH_TYPE.AUTH1:\r\n    case AUTH_TYPE.AUTH2:\r\n    default:\r\n      break\r\n  }\r\n  return false\r\n}\r\n\r\n/**\r\n * 加载 axios 拦截器\r\n * @param interceptors\r\n * @param options\r\n */\r\nfunction loadInterceptors(interceptors, options) {\r\n  const {request, response} = interceptors\r\n  // 加载请求拦截器\r\n  request.forEach(item => {\r\n    let {onFulfilled, onRejected} = item\r\n    if (!onFulfilled || typeof onFulfilled !== 'function') {\r\n      onFulfilled = config => config\r\n    }\r\n    if (!onRejected || typeof onRejected !== 'function') {\r\n      onRejected = error => Promise.reject(error)\r\n    }\r\n    axios.interceptors.request.use(\r\n      config => onFulfilled(config, options),\r\n      error => onRejected(error, options)\r\n    )\r\n  })\r\n  // 加载响应拦截器\r\n  response.forEach(item => {\r\n    let {onFulfilled, onRejected} = item\r\n    if (!onFulfilled || typeof onFulfilled !== 'function') {\r\n      onFulfilled = response => response\r\n    }\r\n    if (!onRejected || typeof onRejected !== 'function') {\r\n      onRejected = error => Promise.reject(error)\r\n    }\r\n    axios.interceptors.response.use(\r\n      response => onFulfilled(response, options),\r\n      error => onRejected(error, options)\r\n    )\r\n  })\r\n}\r\n\r\n/**\r\n * 解析 url 中的参数\r\n * @param url\r\n * @returns {Object}\r\n */\r\nfunction parseUrlParams(url) {\r\n  const params = {}\r\n  if (!url || url === '' || typeof url !== 'string') {\r\n    return params\r\n  }\r\n  const paramsStr = url.split('?')[1]\r\n  if (!paramsStr) {\r\n    return params\r\n  }\r\n  const paramsArr = paramsStr.replace(/&|=/g, ' ').split(' ')\r\n  for (let i = 0; i < paramsArr.length / 2; i++) {\r\n    const value = paramsArr[i * 2 + 1]\r\n    params[paramsArr[i * 2]] = value === 'true' ? true : (value === 'false' ? false : value)\r\n  }\r\n  return params\r\n}\r\n\r\nexport {\r\n  METHOD,\r\n  AUTH_TYPE,\r\n  request,\r\n  setAuthorization,\r\n  removeAuthorization,\r\n  checkAuthorization,\r\n  loadInterceptors,\r\n  parseUrlParams\r\n}\r\n"]}]}