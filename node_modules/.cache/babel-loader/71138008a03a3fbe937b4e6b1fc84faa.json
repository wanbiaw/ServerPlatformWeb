{"remainingRequest":"F:\\ServerPlatformWeb\\node_modules\\babel-loader\\lib\\index.js!F:\\ServerPlatformWeb\\node_modules\\eslint-loader\\index.js??ref--14-0!F:\\ServerPlatformWeb\\src\\components\\menu\\menu.js","dependencies":[{"path":"F:\\ServerPlatformWeb\\src\\components\\menu\\menu.js","mtime":1651512164081},{"path":"F:\\ServerPlatformWeb\\babel.config.js","mtime":1651512117562},{"path":"F:\\ServerPlatformWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651512135878},{"path":"F:\\ServerPlatformWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":1651512132831},{"path":"F:\\ServerPlatformWeb\\node_modules\\eslint-loader\\index.js","mtime":1651512148396}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkY6L1NlcnZlclBsYXRmb3JtV2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZW50cmllcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZG90LWFsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5zdGlja3kuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubGluay5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKCi8qKg0KICog6K+l5o+S5Lu25Y+v5qC55o2u6I+c5Y2V6YWN572u6Ieq5Yqo55Sf5oiQIEFOVEQgbWVudee7hOS7tg0KICogbWVudU9wdGlvbnPnpLrkvovvvJoNCiAqIFsNCiAqICB7DQogKiAgICBuYW1lOiAn6I+c5Y2V5ZCN56ewJywNCiAqICAgIHBhdGg6ICfoj5zljZXot6/nlLEnLA0KICogICAgbWV0YTogew0KICogICAgICBpY29uOiAn6I+c5Y2V5Zu+5qCHJywNCiAqICAgICAgaW52aXNpYmxlOiAnYm9vbGVhbiwg5piv5ZCm5LiN5Y+v6KeBLCDpu5jorqQgZmFsc2UnLA0KICogICAgfSwNCiAqICAgIGNoaWxkcmVuOiBb5a2Q6I+c5Y2V6YWN572uXQ0KICogIH0sDQogKiAgew0KICogICAgbmFtZTogJ+iPnOWNleWQjeensCcsDQogKiAgICBwYXRoOiAn6I+c5Y2V6Lev55SxJywNCiAqICAgIG1ldGE6IHsNCiAqICAgICAgaWNvbjogJ+iPnOWNleWbvuaghycsDQogKiAgICAgIGludmlzaWJsZTogJ2Jvb2xlYW4sIOaYr+WQpuS4jeWPr+ingSwg6buY6K6kIGZhbHNlJywNCiAqICAgIH0sDQogKiAgICBjaGlsZHJlbjogW+WtkOiPnOWNlemFjee9rl0NCiAqICB9DQogKiBdDQogKg0KICogaTE4bjog5Zu96ZmF5YyW6YWN572u44CC57O757uf6buY6K6k5Lya5qC55o2uIG9wdGlvbnMgcm91dGXphY3nva7nmoQgcGF0aCDlkowgbmFtZSDnlJ/miJDoi7Hmlofku6Xlj4rkuK3mlofnmoTlm73pmYXljJbphY3nva7vvIzlpoLpnIDoh6rlrprkuYnmiJblop7liqDlhbbku5bor63oqIDvvIzphY3nva4NCiAqIOatpOmhueWNs+WPr+OAguWmgu+8mg0KICogaTE4bjogew0KICogICBtZXNzYWdlczogew0KICogICAgIENOOiB7ZGFzaGJvYXJkOiB7bmFtZTogJ+ebkeaOp+S4reW/gyd9fQ0KICogICAgIEhLOiB7ZGFzaGJvYXJkOiB7bmFtZTogJ+ebo+aOp+S4reW/gyd9fQ0KICogICB9DQogKiB9DQogKiovCmltcG9ydCBNZW51IGZyb20gJ2FudC1kZXNpZ24tdnVlL2VzL21lbnUnOwppbXBvcnQgSWNvbiBmcm9tICdhbnQtZGVzaWduLXZ1ZS9lcy9pY29uJzsKaW1wb3J0IGZhc3RFcXVhbCBmcm9tICdmYXN0LWRlZXAtZXF1YWwnOwppbXBvcnQgeyBnZXRJMThuS2V5IH0gZnJvbSAnQC91dGlscy9yb3V0ZXJVdGlsJzsKdmFyIEl0ZW0gPSBNZW51Lkl0ZW0sCiAgICBTdWJNZW51ID0gTWVudS5TdWJNZW51OwoKdmFyIHJlc29sdmVQYXRoID0gZnVuY3Rpb24gcmVzb2x2ZVBhdGgocGF0aCkgewogIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogIHZhciBfcGF0aCA9IHBhdGg7CiAgT2JqZWN0LmVudHJpZXMocGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7CiAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSwKICAgICAgICBrZXkgPSBfcmVmMlswXSwKICAgICAgICB2YWx1ZSA9IF9yZWYyWzFdOwoKICAgIF9wYXRoID0gX3BhdGgucmVwbGFjZShuZXcgUmVnRXhwKCI6Ii5jb25jYXQoa2V5KSwgJ2cnKSwgdmFsdWUpOwogIH0pOwogIHJldHVybiBfcGF0aDsKfTsKCnZhciB0b1JvdXRlc01hcCA9IGZ1bmN0aW9uIHRvUm91dGVzTWFwKHJvdXRlcykgewogIHZhciBtYXAgPSB7fTsKICByb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgIG1hcFtyb3V0ZS5mdWxsUGF0aF0gPSByb3V0ZTsKCiAgICBpZiAocm91dGUuY2hpbGRyZW4gJiYgcm91dGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICB2YXIgY2hpbGRyZW5NYXAgPSB0b1JvdXRlc01hcChyb3V0ZS5jaGlsZHJlbik7CiAgICAgIE9iamVjdC5hc3NpZ24obWFwLCBjaGlsZHJlbk1hcCk7CiAgICB9CiAgfSk7CiAgcmV0dXJuIG1hcDsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSU1lbnUnLAogIHByb3BzOiB7CiAgICBvcHRpb25zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHRoZW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnZGFyaycKICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnaW5saW5lJwogICAgfSwKICAgIGNvbGxhcHNlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgaTE4bjogT2JqZWN0LAogICAgb3BlbktleXM6IEFycmF5CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0ZWRLZXlzOiBbXSwKICAgICAgc09wZW5LZXlzOiBbXSwKICAgICAgY2FjaGVkT3BlbktleXM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG1lbnVUaGVtZTogZnVuY3Rpb24gbWVudVRoZW1lKCkgewogICAgICByZXR1cm4gdGhpcy50aGVtZSA9PSAnbGlnaHQnID8gdGhpcy50aGVtZSA6ICdkYXJrJzsKICAgIH0sCiAgICByb3V0ZXNNYXA6IGZ1bmN0aW9uIHJvdXRlc01hcCgpIHsKICAgICAgcmV0dXJuIHRvUm91dGVzTWFwKHRoaXMub3B0aW9ucyk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLnVwZGF0ZU1lbnUoKTsKCiAgICBpZiAodGhpcy5vcHRpb25zLmxlbmd0aCA+IDAgJiYgIXRoaXMub3B0aW9uc1swXS5mdWxsUGF0aCkgewogICAgICB0aGlzLmZvcm1hdE9wdGlvbnModGhpcy5vcHRpb25zLCAnJyk7CiAgICB9IC8vIOiHquWumuS5ieWbvemZheWMlumFjee9rgoKCiAgICBpZiAodGhpcy5pMThuICYmIHRoaXMuaTE4bi5tZXNzYWdlcykgewogICAgICB2YXIgbWVzc2FnZXMgPSB0aGlzLmkxOG4ubWVzc2FnZXM7CiAgICAgIE9iamVjdC5rZXlzKG1lc3NhZ2VzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfdGhpcy4kaTE4bi5tZXJnZUxvY2FsZU1lc3NhZ2Uoa2V5LCBtZXNzYWdlc1trZXldKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgb3B0aW9uczogZnVuY3Rpb24gb3B0aW9ucyh2YWwpIHsKICAgICAgaWYgKHZhbC5sZW5ndGggPiAwICYmICF2YWxbMF0uZnVsbFBhdGgpIHsKICAgICAgICB0aGlzLmZvcm1hdE9wdGlvbnModGhpcy5vcHRpb25zLCAnJyk7CiAgICAgIH0KICAgIH0sCiAgICBpMThuOiBmdW5jdGlvbiBpMThuKHZhbCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh2YWwgJiYgdmFsLm1lc3NhZ2VzKSB7CiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5pMThuLm1lc3NhZ2VzOwogICAgICAgIE9iamVjdC5rZXlzKG1lc3NhZ2VzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgIF90aGlzMi4kaTE4bi5tZXJnZUxvY2FsZU1lc3NhZ2Uoa2V5LCBtZXNzYWdlc1trZXldKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNvbGxhcHNlZDogZnVuY3Rpb24gY29sbGFwc2VkKHZhbCkgewogICAgICBpZiAodmFsKSB7CiAgICAgICAgdGhpcy5jYWNoZWRPcGVuS2V5cyA9IHRoaXMuc09wZW5LZXlzOwogICAgICAgIHRoaXMuc09wZW5LZXlzID0gW107CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zT3BlbktleXMgPSB0aGlzLmNhY2hlZE9wZW5LZXlzOwogICAgICB9CiAgICB9LAogICAgJyRyb3V0ZSc6IGZ1bmN0aW9uICRyb3V0ZSgpIHsKICAgICAgdGhpcy51cGRhdGVNZW51KCk7CiAgICB9LAogICAgc09wZW5LZXlzOiBmdW5jdGlvbiBzT3BlbktleXModmFsKSB7CiAgICAgIHRoaXMuJGVtaXQoJ29wZW5DaGFuZ2UnLCB2YWwpOwogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6b3BlbktleXMnLCB2YWwpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVuZGVySWNvbjogZnVuY3Rpb24gcmVuZGVySWNvbihoLCBpY29uLCBrZXkpIHsKICAgICAgaWYgKHRoaXMuJHNjb3BlZFNsb3RzLmljb24gJiYgaWNvbiAmJiBpY29uICE9PSAnbm9uZScpIHsKICAgICAgICB2YXIgdm5vZGVzID0gdGhpcy4kc2NvcGVkU2xvdHMuaWNvbih7CiAgICAgICAgICBpY29uOiBpY29uLAogICAgICAgICAga2V5OiBrZXkKICAgICAgICB9KTsKICAgICAgICB2bm9kZXMuZm9yRWFjaChmdW5jdGlvbiAodm5vZGUpIHsKICAgICAgICAgIHZub2RlLmRhdGEuY2xhc3MgPSB2bm9kZS5kYXRhLmNsYXNzID8gdm5vZGUuZGF0YS5jbGFzcyA6IFtdOwogICAgICAgICAgdm5vZGUuZGF0YS5jbGFzcy5wdXNoKCdhbnRpY29uJyk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHZub2RlczsKICAgICAgfQoKICAgICAgcmV0dXJuICFpY29uIHx8IGljb24gPT0gJ25vbmUnID8gbnVsbCA6IGgoSWNvbiwgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICB0eXBlOiBpY29uCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZW5kZXJNZW51SXRlbTogZnVuY3Rpb24gcmVuZGVyTWVudUl0ZW0oaCwgbWVudSkgewogICAgICB2YXIgdGFnID0gJ3JvdXRlci1saW5rJzsKICAgICAgdmFyIHBhdGggPSByZXNvbHZlUGF0aChtZW51LmZ1bGxQYXRoLCBtZW51Lm1ldGEucGFyYW1zKTsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBwcm9wczogewogICAgICAgICAgdG86IHsKICAgICAgICAgICAgcGF0aDogcGF0aCwKICAgICAgICAgICAgcXVlcnk6IG1lbnUubWV0YS5xdWVyeQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIHN0eWxlOiAnb3ZlcmZsb3c6aGlkZGVuO3doaXRlLXNwYWNlOm5vcm1hbDt0ZXh0LW92ZXJmbG93OmNsaXA7JwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGlmIChtZW51Lm1ldGEgJiYgbWVudS5tZXRhLmxpbmspIHsKICAgICAgICB0YWcgPSAnYSc7CiAgICAgICAgY29uZmlnID0gewogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgc3R5bGU6ICdvdmVyZmxvdzpoaWRkZW47d2hpdGUtc3BhY2U6bm9ybWFsO3RleHQtb3ZlcmZsb3c6Y2xpcDsnLAogICAgICAgICAgICBocmVmOiBtZW51Lm1ldGEubGluaywKICAgICAgICAgICAgdGFyZ2V0OiAnX2JsYW5rJwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiBoKEl0ZW0sIHsKICAgICAgICBrZXk6IG1lbnUuZnVsbFBhdGgKICAgICAgfSwgW2godGFnLCBjb25maWcsIFt0aGlzLnJlbmRlckljb24oaCwgbWVudS5tZXRhID8gbWVudS5tZXRhLmljb24gOiAnbm9uZScsIG1lbnUuZnVsbFBhdGgpLCB0aGlzLiR0KGdldEkxOG5LZXkobWVudS5mdWxsUGF0aCkpXSldKTsKICAgIH0sCiAgICByZW5kZXJTdWJNZW51OiBmdW5jdGlvbiByZW5kZXJTdWJNZW51KGgsIG1lbnUpIHsKICAgICAgdmFyIHRoaXNfID0gdGhpczsKICAgICAgdmFyIHN1Ykl0ZW0gPSBbaCgnc3BhbicsIHsKICAgICAgICBzbG90OiAndGl0bGUnLAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICBzdHlsZTogJ292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3JtYWw7dGV4dC1vdmVyZmxvdzpjbGlwOycKICAgICAgICB9CiAgICAgIH0sIFt0aGlzLnJlbmRlckljb24oaCwgbWVudS5tZXRhID8gbWVudS5tZXRhLmljb24gOiAnbm9uZScsIG1lbnUuZnVsbFBhdGgpLCB0aGlzLiR0KGdldEkxOG5LZXkobWVudS5mdWxsUGF0aCkpXSldOwogICAgICB2YXIgaXRlbUFyciA9IFtdOwogICAgICBtZW51LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpdGVtQXJyLnB1c2godGhpc18ucmVuZGVySXRlbShoLCBpdGVtKSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gaChTdWJNZW51LCB7CiAgICAgICAga2V5OiBtZW51LmZ1bGxQYXRoCiAgICAgIH0sIHN1Ykl0ZW0uY29uY2F0KGl0ZW1BcnIpKTsKICAgIH0sCiAgICByZW5kZXJJdGVtOiBmdW5jdGlvbiByZW5kZXJJdGVtKGgsIG1lbnUpIHsKICAgICAgdmFyIG1ldGEgPSBtZW51Lm1ldGE7CgogICAgICBpZiAoIW1ldGEgfHwgIW1ldGEuaW52aXNpYmxlKSB7CiAgICAgICAgdmFyIHJlbmRlckNoaWxkcmVuID0gZmFsc2U7CiAgICAgICAgdmFyIGNoaWxkcmVuID0gbWVudS5jaGlsZHJlbjsKCiAgICAgICAgaWYgKGNoaWxkcmVuICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgY2hpbGRNZXRhID0gY2hpbGRyZW5baV0ubWV0YTsKCiAgICAgICAgICAgIGlmICghY2hpbGRNZXRhIHx8ICFjaGlsZE1ldGEuaW52aXNpYmxlKSB7CiAgICAgICAgICAgICAgcmVuZGVyQ2hpbGRyZW4gPSB0cnVlOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbWVudS5jaGlsZHJlbiAmJiByZW5kZXJDaGlsZHJlbiA/IHRoaXMucmVuZGVyU3ViTWVudShoLCBtZW51KSA6IHRoaXMucmVuZGVyTWVudUl0ZW0oaCwgbWVudSk7CiAgICAgIH0KICAgIH0sCiAgICByZW5kZXJNZW51OiBmdW5jdGlvbiByZW5kZXJNZW51KGgsIG1lbnVUcmVlKSB7CiAgICAgIHZhciB0aGlzXyA9IHRoaXM7CiAgICAgIHZhciBtZW51QXJyID0gW107CiAgICAgIG1lbnVUcmVlLmZvckVhY2goZnVuY3Rpb24gKG1lbnUsIGkpIHsKICAgICAgICBtZW51QXJyLnB1c2godGhpc18ucmVuZGVySXRlbShoLCBtZW51LCAnMCcsIGkpKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBtZW51QXJyOwogICAgfSwKICAgIGZvcm1hdE9wdGlvbnM6IGZ1bmN0aW9uIGZvcm1hdE9wdGlvbnMob3B0aW9ucywgcGFyZW50UGF0aCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgICAgICB2YXIgaXNGdWxsUGF0aCA9IHJvdXRlLnBhdGguc3Vic3RyaW5nKDAsIDEpID09ICcvJzsKICAgICAgICByb3V0ZS5mdWxsUGF0aCA9IGlzRnVsbFBhdGggPyByb3V0ZS5wYXRoIDogcGFyZW50UGF0aCArICcvJyArIHJvdXRlLnBhdGg7CgogICAgICAgIGlmIChyb3V0ZS5jaGlsZHJlbikgewogICAgICAgICAgX3RoaXMzLmZvcm1hdE9wdGlvbnMocm91dGUuY2hpbGRyZW4sIHJvdXRlLmZ1bGxQYXRoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZU1lbnU6IGZ1bmN0aW9uIHVwZGF0ZU1lbnUoKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRLZXlzID0gdGhpcy5nZXRTZWxlY3RlZEtleXMoKTsKICAgICAgdmFyIG9wZW5LZXlzID0gdGhpcy5zZWxlY3RlZEtleXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gIT09ICcnOwogICAgICB9KTsKICAgICAgb3BlbktleXMgPSBvcGVuS2V5cy5zbGljZSgwLCBvcGVuS2V5cy5sZW5ndGggLSAxKTsKCiAgICAgIGlmICghZmFzdEVxdWFsKG9wZW5LZXlzLCB0aGlzLnNPcGVuS2V5cykpIHsKICAgICAgICB0aGlzLmNvbGxhcHNlZCB8fCB0aGlzLm1vZGUgPT09ICdob3Jpem9udGFsJyA/IHRoaXMuY2FjaGVkT3BlbktleXMgPSBvcGVuS2V5cyA6IHRoaXMuc09wZW5LZXlzID0gb3BlbktleXM7CiAgICAgIH0KICAgIH0sCiAgICBnZXRTZWxlY3RlZEtleXM6IGZ1bmN0aW9uIGdldFNlbGVjdGVkS2V5cygpIHsKICAgICAgdmFyIG1hdGNoZXMgPSB0aGlzLiRyb3V0ZS5tYXRjaGVkOwogICAgICB2YXIgcm91dGUgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV07CiAgICAgIHZhciBjaG9zZSA9IHRoaXMucm91dGVzTWFwW3JvdXRlLnBhdGhdOwoKICAgICAgaWYgKGNob3NlLm1ldGEgJiYgY2hvc2UubWV0YS5oaWdobGlnaHQpIHsKICAgICAgICBjaG9zZSA9IHRoaXMucm91dGVzTWFwW2Nob3NlLm1ldGEuaGlnaGxpZ2h0XTsKICAgICAgICB2YXIgcmVzb2x2ZSA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICAgIHBhdGg6IGNob3NlLmZ1bGxQYXRoCiAgICAgICAgfSk7CiAgICAgICAgbWF0Y2hlcyA9IHJlc29sdmUucmVzb2x2ZWQgJiYgcmVzb2x2ZS5yZXNvbHZlZC5tYXRjaGVkIHx8IG1hdGNoZXM7CiAgICAgIH0KCiAgICAgIHJldHVybiBtYXRjaGVzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnBhdGg7CiAgICAgIH0pOwogICAgfQogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgcmV0dXJuIGgoTWVudSwgewogICAgICBwcm9wczogewogICAgICAgIHRoZW1lOiB0aGlzLm1lbnVUaGVtZSwKICAgICAgICBtb2RlOiB0aGlzLiRwcm9wcy5tb2RlLAogICAgICAgIHNlbGVjdGVkS2V5czogdGhpcy5zZWxlY3RlZEtleXMsCiAgICAgICAgb3BlbktleXM6IHRoaXMub3BlbktleXMgPyB0aGlzLm9wZW5LZXlzIDogdGhpcy5zT3BlbktleXMKICAgICAgfSwKICAgICAgb246IHsKICAgICAgICAndXBkYXRlOm9wZW5LZXlzJzogZnVuY3Rpb24gdXBkYXRlT3BlbktleXModmFsKSB7CiAgICAgICAgICBfdGhpczQuc09wZW5LZXlzID0gdmFsOwogICAgICAgIH0sCiAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKG9iaikgewogICAgICAgICAgb2JqLnNlbGVjdGVkS2V5cyA9IFtvYmoua2V5XTsKCiAgICAgICAgICBfdGhpczQuJGVtaXQoJ3NlbGVjdCcsIG9iaik7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB0aGlzLnJlbmRlck1lbnUoaCwgdGhpcy5vcHRpb25zKSk7CiAgfQp9Ow=="},{"version":3,"sources":["F:/ServerPlatformWeb/src/components/menu/menu.js"],"names":["Menu","Icon","fastEqual","getI18nKey","Item","SubMenu","resolvePath","path","params","_path","Object","entries","forEach","key","value","replace","RegExp","toRoutesMap","routes","map","route","fullPath","children","length","childrenMap","assign","name","props","options","type","Array","required","theme","String","default","mode","collapsed","Boolean","i18n","openKeys","data","selectedKeys","sOpenKeys","cachedOpenKeys","computed","menuTheme","routesMap","created","updateMenu","formatOptions","messages","keys","$i18n","mergeLocaleMessage","watch","val","$emit","methods","renderIcon","h","icon","$scopedSlots","vnodes","vnode","class","push","renderMenuItem","menu","tag","meta","config","to","query","attrs","style","link","href","target","$t","renderSubMenu","this_","subItem","slot","itemArr","item","renderItem","concat","invisible","renderChildren","undefined","i","childMeta","renderMenu","menuTree","menuArr","parentPath","isFullPath","substring","getSelectedKeys","filter","slice","matches","$route","matched","chose","highlight","resolve","$router","resolved","render","$props","on","click","obj"],"mappings":"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","sourcesContent":["/**\r\n * 该插件可根据菜单配置自动生成 ANTD menu组件\r\n * menuOptions示例：\r\n * [\r\n *  {\r\n *    name: '菜单名称',\r\n *    path: '菜单路由',\r\n *    meta: {\r\n *      icon: '菜单图标',\r\n *      invisible: 'boolean, 是否不可见, 默认 false',\r\n *    },\r\n *    children: [子菜单配置]\r\n *  },\r\n *  {\r\n *    name: '菜单名称',\r\n *    path: '菜单路由',\r\n *    meta: {\r\n *      icon: '菜单图标',\r\n *      invisible: 'boolean, 是否不可见, 默认 false',\r\n *    },\r\n *    children: [子菜单配置]\r\n *  }\r\n * ]\r\n *\r\n * i18n: 国际化配置。系统默认会根据 options route配置的 path 和 name 生成英文以及中文的国际化配置，如需自定义或增加其他语言，配置\r\n * 此项即可。如：\r\n * i18n: {\r\n *   messages: {\r\n *     CN: {dashboard: {name: '监控中心'}}\r\n *     HK: {dashboard: {name: '監控中心'}}\r\n *   }\r\n * }\r\n **/\r\nimport Menu from 'ant-design-vue/es/menu'\r\nimport Icon from 'ant-design-vue/es/icon'\r\nimport fastEqual from 'fast-deep-equal'\r\nimport {getI18nKey} from '@/utils/routerUtil'\r\n\r\nconst {Item, SubMenu} = Menu\r\n\r\nconst resolvePath = (path, params = {}) => {\r\n  let _path = path\r\n  Object.entries(params).forEach(([key, value]) => {\r\n    _path = _path.replace(new RegExp(`:${key}`, 'g'), value)\r\n  })\r\n  return _path\r\n}\r\n\r\nconst toRoutesMap = (routes) => {\r\n  const map = {}\r\n  routes.forEach(route => {\r\n    map[route.fullPath] = route\r\n    if (route.children && route.children.length > 0) {\r\n      const childrenMap = toRoutesMap(route.children)\r\n      Object.assign(map, childrenMap)\r\n    }\r\n  })\r\n  return map\r\n}\r\n\r\nexport default {\r\n  name: 'IMenu',\r\n  props: {\r\n    options: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    theme: {\r\n      type: String,\r\n      required: false,\r\n      default: 'dark'\r\n    },\r\n    mode: {\r\n      type: String,\r\n      required: false,\r\n      default: 'inline'\r\n    },\r\n    collapsed: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false\r\n    },\r\n    i18n: Object,\r\n    openKeys: Array\r\n  },\r\n  data () {\r\n    return {\r\n      selectedKeys: [],\r\n      sOpenKeys: [],\r\n      cachedOpenKeys: []\r\n    }\r\n  },\r\n  computed: {\r\n    menuTheme() {\r\n      return this.theme == 'light' ? this.theme : 'dark'\r\n    },\r\n    routesMap() {\r\n      return toRoutesMap(this.options)\r\n    }\r\n  },\r\n  created () {\r\n    this.updateMenu()\r\n    if (this.options.length > 0 && !this.options[0].fullPath) {\r\n      this.formatOptions(this.options, '')\r\n    }\r\n    // 自定义国际化配置\r\n    if(this.i18n && this.i18n.messages) {\r\n      const messages = this.i18n.messages\r\n      Object.keys(messages).forEach(key => {\r\n        this.$i18n.mergeLocaleMessage(key, messages[key])\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    options(val) {\r\n      if (val.length > 0 && !val[0].fullPath) {\r\n        this.formatOptions(this.options, '')\r\n      }\r\n    },\r\n    i18n(val) {\r\n      if(val && val.messages) {\r\n        const messages = this.i18n.messages\r\n        Object.keys(messages).forEach(key => {\r\n          this.$i18n.mergeLocaleMessage(key, messages[key])\r\n        })\r\n      }\r\n    },\r\n    collapsed (val) {\r\n      if (val) {\r\n        this.cachedOpenKeys = this.sOpenKeys\r\n        this.sOpenKeys = []\r\n      } else {\r\n        this.sOpenKeys = this.cachedOpenKeys\r\n      }\r\n    },\r\n    '$route': function () {\r\n      this.updateMenu()\r\n    },\r\n    sOpenKeys(val) {\r\n      this.$emit('openChange', val)\r\n      this.$emit('update:openKeys', val)\r\n    }\r\n  },\r\n  methods: {\r\n    renderIcon: function (h, icon, key) {\r\n      if (this.$scopedSlots.icon && icon && icon !== 'none') {\r\n        const vnodes = this.$scopedSlots.icon({icon, key})\r\n        vnodes.forEach(vnode => {\r\n          vnode.data.class = vnode.data.class ? vnode.data.class : []\r\n          vnode.data.class.push('anticon')\r\n        })\r\n        return vnodes\r\n      }\r\n      return !icon || icon == 'none' ? null : h(Icon, {props: {type:  icon}})\r\n    },\r\n    renderMenuItem: function (h, menu) {\r\n      let tag = 'router-link'\r\n      const path = resolvePath(menu.fullPath, menu.meta.params)\r\n      let config = {props: {to: {path, query: menu.meta.query}, }, attrs: {style: 'overflow:hidden;white-space:normal;text-overflow:clip;'}}\r\n      if (menu.meta && menu.meta.link) {\r\n        tag = 'a'\r\n        config = {attrs: {style: 'overflow:hidden;white-space:normal;text-overflow:clip;', href: menu.meta.link, target: '_blank'}}\r\n      }\r\n      return h(\r\n        Item, {key: menu.fullPath},\r\n        [\r\n          h(tag, config,\r\n            [\r\n              this.renderIcon(h, menu.meta ? menu.meta.icon : 'none', menu.fullPath),\r\n              this.$t(getI18nKey(menu.fullPath))\r\n            ]\r\n          )\r\n        ]\r\n      )\r\n    },\r\n    renderSubMenu: function (h, menu) {\r\n      let this_ = this\r\n      let subItem = [h('span', {slot: 'title', attrs: {style: 'overflow:hidden;white-space:normal;text-overflow:clip;'}},\r\n        [\r\n          this.renderIcon(h, menu.meta ? menu.meta.icon : 'none', menu.fullPath),\r\n          this.$t(getI18nKey(menu.fullPath))\r\n        ]\r\n      )]\r\n      let itemArr = []\r\n      menu.children.forEach(function (item) {\r\n        itemArr.push(this_.renderItem(h, item))\r\n      })\r\n      return h(SubMenu, {key: menu.fullPath},\r\n        subItem.concat(itemArr)\r\n      )\r\n    },\r\n    renderItem: function (h, menu) {\r\n      const meta = menu.meta\r\n      if (!meta || !meta.invisible) {\r\n        let renderChildren = false\r\n        const children = menu.children\r\n        if (children != undefined) {\r\n          for (let i = 0; i < children.length; i++) {\r\n            const childMeta = children[i].meta\r\n            if (!childMeta || !childMeta.invisible) {\r\n              renderChildren = true\r\n              break\r\n            }\r\n          }\r\n        }\r\n        return (menu.children && renderChildren) ? this.renderSubMenu(h, menu) : this.renderMenuItem(h, menu)\r\n      }\r\n    },\r\n    renderMenu: function (h, menuTree) {\r\n      let this_ = this\r\n      let menuArr = []\r\n      menuTree.forEach(function (menu, i) {\r\n        menuArr.push(this_.renderItem(h, menu, '0', i))\r\n      })\r\n      return menuArr\r\n    },\r\n    formatOptions(options, parentPath) {\r\n      options.forEach(route => {\r\n        let isFullPath = route.path.substring(0, 1) == '/'\r\n        route.fullPath = isFullPath ? route.path : parentPath + '/' + route.path\r\n        if (route.children) {\r\n          this.formatOptions(route.children, route.fullPath)\r\n        }\r\n      })\r\n    },\r\n    updateMenu () {\r\n      this.selectedKeys = this.getSelectedKeys()\r\n      let openKeys = this.selectedKeys.filter(item => item !== '')\r\n      openKeys = openKeys.slice(0, openKeys.length -1)\r\n      if (!fastEqual(openKeys, this.sOpenKeys)) {\r\n        this.collapsed || this.mode === 'horizontal' ? this.cachedOpenKeys = openKeys : this.sOpenKeys = openKeys\r\n      }\r\n    },\r\n    getSelectedKeys() {\r\n      let matches = this.$route.matched\r\n      const route = matches[matches.length - 1]\r\n      let chose = this.routesMap[route.path]\r\n      if (chose.meta && chose.meta.highlight) {\r\n        chose = this.routesMap[chose.meta.highlight]\r\n        const resolve = this.$router.resolve({path: chose.fullPath})\r\n        matches = (resolve.resolved && resolve.resolved.matched) || matches\r\n      }\r\n      return matches.map(item => item.path)\r\n    }\r\n  },\r\n  render (h) {\r\n    return h(\r\n      Menu,\r\n      {\r\n        props: {\r\n          theme: this.menuTheme,\r\n          mode: this.$props.mode,\r\n          selectedKeys: this.selectedKeys,\r\n          openKeys: this.openKeys ? this.openKeys : this.sOpenKeys\r\n        },\r\n        on: {\r\n          'update:openKeys': (val) => {\r\n            this.sOpenKeys = val\r\n          },\r\n          click: (obj) => {\r\n            obj.selectedKeys = [obj.key]\r\n            this.$emit('select', obj)\r\n          }\r\n        }\r\n      }, this.renderMenu(h, this.options)\r\n    )\r\n  }\r\n}\r\n"]}]}