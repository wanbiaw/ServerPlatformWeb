{"remainingRequest":"D:\\ServerPlatformWeb\\node_modules\\babel-loader\\lib\\index.js!D:\\ServerPlatformWeb\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\ServerPlatformWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ServerPlatformWeb\\src\\components\\setting\\Setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ServerPlatformWeb\\src\\components\\setting\\Setting.vue","mtime":1649217944428},{"path":"D:\\ServerPlatformWeb\\babel.config.js","mtime":1649217944413},{"path":"D:\\ServerPlatformWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ServerPlatformWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\ServerPlatformWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ServerPlatformWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovU2VydmVyUGxhdGZvcm1XZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBTZXR0aW5nSXRlbSBmcm9tICcuL1NldHRpbmdJdGVtJzsKaW1wb3J0IHsgQ29sb3JDaGVja2JveCwgSW1nQ2hlY2tib3ggfSBmcm9tICdAL2NvbXBvbmVudHMvY2hlY2tib3gnOwppbXBvcnQgQ2xpcGJvYXJkIGZyb20gJ2NsaXBib2FyZCc7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZm9ybWF0Q29uZmlnIH0gZnJvbSAnQC91dGlscy9mb3JtYXR0ZXInOwppbXBvcnQgeyBzZXR0aW5nIH0gZnJvbSAnQC9jb25maWcvZGVmYXVsdCc7CmltcG9ydCBzeXNDb25maWcgZnJvbSAnQC9jb25maWcvY29uZmlnJzsKaW1wb3J0IGZhc3RFcXVhbCBmcm9tICdmYXN0LWRlZXAtZXF1YWwnOwppbXBvcnQgZGVlcE1lcmdlIGZyb20gJ2RlZXBtZXJnZSc7CnZhciBDb2xvckNoZWNrYm94R3JvdXAgPSBDb2xvckNoZWNrYm94Lkdyb3VwOwp2YXIgSW1nQ2hlY2tib3hHcm91cCA9IEltZ0NoZWNrYm94Lkdyb3VwOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NldHRpbmcnLAogIGkxOG46IHJlcXVpcmUoJy4vaTE4bicpLAogIGNvbXBvbmVudHM6IHsKICAgIEltZ0NoZWNrYm94R3JvdXA6IEltZ0NoZWNrYm94R3JvdXAsCiAgICBJbWdDaGVja2JveDogSW1nQ2hlY2tib3gsCiAgICBDb2xvckNoZWNrYm94R3JvdXA6IENvbG9yQ2hlY2tib3hHcm91cCwKICAgIENvbG9yQ2hlY2tib3g6IENvbG9yQ2hlY2tib3gsCiAgICBTZXR0aW5nSXRlbTogU2V0dGluZ0l0ZW0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb3B5Q29uZmlnOiAnU29ycnksIHlvdSBoYXZlIGNvcGllZCBub3RoaW5nIE8o4oipX+KIqSlPficsCiAgICAgIGlzRGV2OiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JwogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHsKICAgIGRpcmVjdGlvbnM6IGZ1bmN0aW9uIGRpcmVjdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5hbmltYXRlcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PSBfdGhpcy5hbmltYXRlLm5hbWU7CiAgICAgIH0pLmRpcmVjdGlvbnM7CiAgICB9CiAgfSwgbWFwU3RhdGUoJ3NldHRpbmcnLCBbJ3RoZW1lJywgJ2xheW91dCcsICdhbmltYXRlJywgJ2FuaW1hdGVzJywgJ3BhbGV0dGVzJywgJ211bHRpUGFnZScsICd3ZWVrTW9kZScsICdmaXhlZEhlYWRlcicsICdmaXhlZFNpZGVCYXInLCAnaGlkZVNldHRpbmcnLCAncGFnZVdpZHRoJ10pKSwKICB3YXRjaDogewogICAgJ2FuaW1hdGUubmFtZSc6IGZ1bmN0aW9uIGFuaW1hdGVOYW1lKHZhbCkgewogICAgICB0aGlzLnNldEFuaW1hdGUoewogICAgICAgIG5hbWU6IHZhbCwKICAgICAgICBkaXJlY3Rpb246IHRoaXMuZGlyZWN0aW9uc1swXQogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoewogICAgZ2V0UG9wdXBDb250YWluZXI6IGZ1bmN0aW9uIGdldFBvcHVwQ29udGFpbmVyKCkgewogICAgICByZXR1cm4gdGhpcy4kZWwucGFyZW50Tm9kZTsKICAgIH0sCiAgICBjb3B5Q29kZTogZnVuY3Rpb24gY29weUNvZGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZXh0cmFjdENvbmZpZyhmYWxzZSk7CiAgICAgIHRoaXMuY29weUNvbmZpZyA9ICIvLyBcdTgxRUFcdTVCOUFcdTRFNDlcdTkxNERcdTdGNkVcdUZGMENcdTUzQzJcdTgwMDMgLi9kZWZhdWx0L3NldHRpbmcuY29uZmlnLmpzXHVGRjBDXHU5NzAwXHU4OTgxXHU4MUVBXHU1QjlBXHU0RTQ5XHU3Njg0XHU1QzVFXHU2MDI3XHU1NzI4XHU4RkQ5XHU5MUNDXHU5MTREXHU3RjZFXHU1MzczXHU1M0VGXG4gICAgICBtb2R1bGUuZXhwb3J0cyA9ICIuY29uY2F0KGZvcm1hdENvbmZpZyhjb25maWcpLCAiXG4gICAgICAiKTsKICAgICAgdmFyIGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJyNjb3B5QnRuJyk7CiAgICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2VzcygiXHU1OTBEXHU1MjM2XHU2MjEwXHU1MjlGXHVGRjBDXHU4OTg2XHU3NkQ2XHU2NTg3XHU0RUY2IHNyYy9jb25maWcvY29uZmlnLmpzIFx1NzEzNlx1NTQwRVx1OTFDRFx1NTQyRlx1OTg3OVx1NzZFRVx1NTM3M1x1NTNFRlx1NzUxRlx1NjU0OCIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGxvY2FsQ29uZmlnID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0ocHJvY2Vzcy5lbnYuVlVFX0FQUF9TRVRUSU5HX0tFWSk7CgogICAgICAgICAgaWYgKGxvY2FsQ29uZmlnKSB7CiAgICAgICAgICAgIGNvbnNvbGUud2Fybign5qOA5rWL5Yiw5pys5Zyw5pyJ5Y6G5Y+y5L+d5a2Y55qE5Li76aKY6YWN572u77yM5oOz6KaB6KaB5ou36LSd55qE6YWN572u5Luj56CB55Sf5pWI77yM5oKo5Y+v6IO96ZyA6KaB5YWI6YeN572u6YWN572uJyk7CgogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uud2Fybign5qOA5rWL5Yiw5pys5Zyw5pyJ5Y6G5Y+y5L+d5a2Y55qE5Li76aKY6YWN572u77yM5oOz6KaB6KaB5ou36LSd55qE6YWN572u5Luj56CB55Sf5pWI77yM5oKo5Y+v6IO96ZyA6KaB5YWI6YeN572u6YWN572uJywgNSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGNsaXBib2FyZC5kZXN0cm95KCk7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVTZXR0aW5nOiBmdW5jdGlvbiBzYXZlU2V0dGluZygpIHsKICAgICAgdmFyIGNsb3NlTWVzc2FnZSA9IHRoaXMuJG1lc3NhZ2UubG9hZGluZygn5q2j5Zyo5L+d5a2Y5Yiw5pys5Zyw77yM6K+356iN5ZCOLi4uJywgMCk7CiAgICAgIHZhciBjb25maWcgPSB0aGlzLmV4dHJhY3RDb25maWcodHJ1ZSk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHByb2Nlc3MuZW52LlZVRV9BUFBfU0VUVElOR19LRVksIEpTT04uc3RyaW5naWZ5KGNvbmZpZykpOwogICAgICBzZXRUaW1lb3V0KGNsb3NlTWVzc2FnZSwgODAwKTsKICAgIH0sCiAgICByZXNldFNldHRpbmc6IGZ1bmN0aW9uIHJlc2V0U2V0dGluZygpIHsKICAgICAgdGhpcy4kY29uZmlybSh7CiAgICAgICAgdGl0bGU6ICfph43nva7kuLvpopjkvJrliLfmlrDpobXpnaLvvIzlvZPliY3pobXpnaLlhoXlrrnkuI3kvJrkv53nlZnvvIznoa7orqTph43nva7vvJ8nLAogICAgICAgIG9uT2s6IGZ1bmN0aW9uIG9uT2soKSB7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShwcm9jZXNzLmVudi5WVUVfQVBQX1NFVFRJTkdfS0VZKTsKICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v5o+Q5Y+W6YWN572uCiAgICBleHRyYWN0Q29uZmlnOiBmdW5jdGlvbiBleHRyYWN0Q29uZmlnKCkgewogICAgICB2YXIgbG9jYWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwogICAgICB2YXIgY29uZmlnID0ge307CiAgICAgIHZhciBteVNldHRpbmcgPSB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5nOwogICAgICB2YXIgZGZ0U2V0dGluZyA9IGxvY2FsID8gZGVlcE1lcmdlKHNldHRpbmcsIHN5c0NvbmZpZykgOiBzZXR0aW5nOwogICAgICBPYmplY3Qua2V5cyhteVNldHRpbmcpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIHZhciBkZnRWYWx1ZSA9IGRmdFNldHRpbmdba2V5XSwKICAgICAgICAgICAgbXlWYWx1ZSA9IG15U2V0dGluZ1trZXldOwoKICAgICAgICBpZiAoZGZ0VmFsdWUgIT0gdW5kZWZpbmVkICYmICFmYXN0RXF1YWwoZGZ0VmFsdWUsIG15VmFsdWUpKSB7CiAgICAgICAgICBjb25maWdba2V5XSA9IG15VmFsdWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGNvbmZpZzsKICAgIH0KICB9LCBtYXBNdXRhdGlvbnMoJ3NldHRpbmcnLCBbJ3NldFRoZW1lJywgJ3NldExheW91dCcsICdzZXRNdWx0aVBhZ2UnLCAnc2V0V2Vla01vZGUnLCAnc2V0Rml4ZWRTaWRlQmFyJywgJ3NldEZpeGVkSGVhZGVyJywgJ3NldEFuaW1hdGUnLCAnc2V0SGlkZVNldHRpbmcnLCAnc2V0UGFnZVdpZHRoJ10pKQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACAA,iBADA;AAEAC,yBAFA;AAGAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,GAHA;AAIAC,MAJA,kBAIA;AACA;AACAC,2DADA;AAEAC;AAFA;AAIA,GATA;AAUAC;AACAC,cADA,wBACA;AAAA;;AACA;AAAA;AAAA;AACA;AAHA,KAIAC,+JAJA,CAVA;AAgBAC;AACA;AACA;AAAAd;AAAAe;AAAA;AACA;AAHA,GAhBA;AAqBAC;AACAC,qBADA,+BACA;AACA;AACA,KAHA;AAIAC,YAJA,sBAIA;AAAA;;AACA;AACA,0OACAC,oBADA;AAGA;AACAC;AACA;AACA;;AACA;AACAC;;AACA;AACA;AACA,SANA;;AAOAD;AACA,OATA;AAUA,KApBA;AAqBAE,eArBA,yBAqBA;AACA;AACA;AACAC;AACAC;AACA,KA1BA;AA2BAC,gBA3BA,0BA2BA;AACA;AACAC,2CADA;AAEAC,YAFA,kBAEA;AACAJ;AACAK;AACA;AALA;AAOA,KAnCA;AAoCA;AACAC,iBArCA,2BAqCA;AAAA;AACA;AACA;AACA;AACAC;AACA;AAAA;;AACA;AACAC;AACA;AACA,OALA;AAMA;AACA;AAhDA,KAiDAC,iFACA,iBADA,EACA,gBADA,EACA,YADA,EACA,gBADA,EACA,cADA,EAjDA;AArBA","names":["name","i18n","components","ImgCheckboxGroup","ImgCheckbox","ColorCheckboxGroup","ColorCheckbox","SettingItem","data","copyConfig","isDev","computed","directions","mapState","watch","direction","methods","getPopupContainer","copyCode","formatConfig","clipboard","console","saveSetting","localStorage","setTimeout","resetSetting","title","onOk","window","extractConfig","Object","config","mapMutations"],"sourceRoot":"src/components/setting","sources":["Setting.vue"],"sourcesContent":["<template>\r\n  <div class=\"side-setting\">\r\n    <setting-item>\r\n      <a-button @click=\"saveSetting\" type=\"primary\" icon=\"save\">{{$t('save')}}</a-button>\r\n      <a-button @click=\"resetSetting\" type=\"dashed\" icon=\"redo\" style=\"float: right\">{{$t('reset')}}</a-button>\r\n    </setting-item>\r\n    <setting-item :title=\"$t('theme.title')\">\r\n      <img-checkbox-group\r\n        @change=\"values => setTheme({...theme, mode: values[0]})\"\r\n        :default-values=\"[theme.mode]\"\r\n      >\r\n        <img-checkbox :title=\"$t('theme.dark')\" img=\"https://gw.alipayobjects.com/zos/rmsportal/LCkqqYNmvBEbokSDscrm.svg\" value=\"dark\"/>\r\n        <img-checkbox :title=\"$t('theme.light')\" img=\"https://gw.alipayobjects.com/zos/rmsportal/jpRkZQMyYRryryPNtyIC.svg\" value=\"light\"/>\r\n        <img-checkbox :title=\"$t('theme.night')\" img=\"https://gw.alipayobjects.com/zos/antfincdn/hmKaLQvmY2/LCkqqYNmvBEbokSDscrm.svg\" value=\"night\"/>\r\n      </img-checkbox-group>\r\n    </setting-item>\r\n    <setting-item :title=\"$t('theme.color')\">\r\n      <color-checkbox-group\r\n        @change=\"(values, colors) => setTheme({...theme, color: colors[0]})\"\r\n        :defaultValues=\"[palettes.indexOf(theme.color)]\" :multiple=\"false\"\r\n      >\r\n        <color-checkbox v-for=\"(color, index) in palettes\" :key=\"index\" :color=\"color\" :value=\"index\" />\r\n      </color-checkbox-group>\r\n    </setting-item>\r\n    <a-divider/>\r\n    <setting-item :title=\"$t('navigate.title')\">\r\n      <img-checkbox-group\r\n        @change=\"values => setLayout(values[0])\"\r\n        :default-values=\"[layout]\"\r\n      >\r\n        <img-checkbox :title=\"$t('navigate.side')\" img=\"https://gw.alipayobjects.com/zos/rmsportal/JopDzEhOqwOjeNTXkoje.svg\" value=\"side\"/>\r\n        <img-checkbox :title=\"$t('navigate.head')\" img=\"https://gw.alipayobjects.com/zos/rmsportal/KDNDBbriJhLwuqMoxcAr.svg\" value=\"head\"/>\r\n        <img-checkbox :title=\"$t('navigate.mix')\" img=\"https://gw.alipayobjects.com/zos/antfincdn/x8Ob%26B8cy8/LCkqqYNmvBEbokSDscrm.svg\" value=\"mix\"/>\r\n      </img-checkbox-group>\r\n    </setting-item>\r\n    <setting-item>\r\n      <a-list :split=\"false\">\r\n        <a-list-item>\r\n          {{$t('navigate.content.title')}}\r\n          <a-select\r\n            :getPopupContainer=\"getPopupContainer\"\r\n            :value=\"pageWidth\"\r\n            @change=\"setPageWidth\"\r\n            class=\"select-item\" size=\"small\" slot=\"actions\"\r\n          >\r\n            <a-select-option value=\"fluid\">{{$t('navigate.content.fluid')}}</a-select-option>\r\n            <a-select-option value=\"fixed\">{{$t('navigate.content.fixed')}}</a-select-option>\r\n          </a-select>\r\n        </a-list-item>\r\n        <a-list-item>\r\n          {{$t('navigate.fixedHeader')}}\r\n          <a-switch :checked=\"fixedHeader\" slot=\"actions\" size=\"small\" @change=\"setFixedHeader\" />\r\n        </a-list-item>\r\n        <a-list-item>\r\n          {{$t('navigate.fixedSideBar')}}\r\n          <a-switch :checked=\"fixedSideBar\" slot=\"actions\" size=\"small\" @change=\"setFixedSideBar\" />\r\n        </a-list-item>\r\n      </a-list>\r\n    </setting-item>\r\n    <a-divider />\r\n    <setting-item :title=\"$t('other.title')\">\r\n      <a-list :split=\"false\">\r\n        <a-list-item>\r\n          {{$t('other.weekMode')}}\r\n          <a-switch :checked=\"weekMode\" slot=\"actions\" size=\"small\" @change=\"setWeekMode\" />\r\n        </a-list-item>\r\n        <a-list-item>\r\n          {{$t('other.multiPages')}}\r\n          <a-switch :checked=\"multiPage\" slot=\"actions\" size=\"small\" @change=\"setMultiPage\" />\r\n        </a-list-item>\r\n        <a-list-item>\r\n          {{$t('other.hideSetting')}}\r\n          <a-switch :checked=\"hideSetting\" slot=\"actions\" size=\"small\" @change=\"setHideSetting\" />\r\n        </a-list-item>\r\n      </a-list>\r\n    </setting-item>\r\n    <a-divider />\r\n    <setting-item :title=\"$t('animate.title')\">\r\n      <a-list :split=\"false\">\r\n        <a-list-item>\r\n          {{$t('animate.disable')}}\r\n          <a-switch :checked=\"animate.disabled\" slot=\"actions\" size=\"small\" @change=\"val => setAnimate({...animate, disabled: val})\" />\r\n        </a-list-item>\r\n        <a-list-item>\r\n          {{$t('animate.effect')}}\r\n          <a-select\r\n            :value=\"animate.name\"\r\n            :getPopupContainer=\"getPopupContainer\"\r\n            @change=\"val => setAnimate({...animate, name: val})\"\r\n            class=\"select-item\" size=\"small\" slot=\"actions\"\r\n          >\r\n            <a-select-option :key=\"index\" :value=\"item.name\" v-for=\"(item, index) in animates\">{{item.alias}}</a-select-option>\r\n          </a-select>\r\n        </a-list-item>\r\n        <a-list-item>\r\n          {{$t('animate.direction')}}\r\n          <a-select\r\n            :value=\"animate.direction\"\r\n            :getPopupContainer=\"getPopupContainer\"\r\n            @change=\"val => setAnimate({...animate, direction: val})\"\r\n            class=\"select-item\" size=\"small\" slot=\"actions\"\r\n          >\r\n            <a-select-option :key=\"index\" :value=\"item\" v-for=\"(item, index) in directions\">{{item}}</a-select-option>\r\n          </a-select>\r\n        </a-list-item>\r\n      </a-list>\r\n    </setting-item>\r\n    <a-alert\r\n      v-if=\"isDev\"\r\n      style=\"max-width: 240px; margin: -16px 0 8px; word-break: break-all\"\r\n      type=\"warning\"\r\n      :message=\"$t('alert')\"\r\n    >\r\n    </a-alert>\r\n    <a-button v-if=\"isDev\" id=\"copyBtn\" :data-clipboard-text=\"copyConfig\" @click=\"copyCode\" style=\"width: 100%\" icon=\"copy\" >{{$t('copy')}}</a-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SettingItem from './SettingItem'\r\nimport {ColorCheckbox, ImgCheckbox} from '@/components/checkbox'\r\nimport Clipboard from 'clipboard'\r\nimport { mapState, mapMutations } from 'vuex'\r\nimport {formatConfig} from '@/utils/formatter'\r\nimport {setting} from '@/config/default'\r\nimport sysConfig from '@/config/config'\r\nimport fastEqual from 'fast-deep-equal'\r\nimport deepMerge from 'deepmerge'\r\n\r\nconst ColorCheckboxGroup = ColorCheckbox.Group\r\nconst ImgCheckboxGroup = ImgCheckbox.Group\r\nexport default {\r\n  name: 'Setting',\r\n  i18n: require('./i18n'),\r\n  components: {ImgCheckboxGroup, ImgCheckbox, ColorCheckboxGroup, ColorCheckbox, SettingItem},\r\n  data() {\r\n    return {\r\n      copyConfig: 'Sorry, you have copied nothing O(∩_∩)O~',\r\n      isDev: process.env.NODE_ENV === 'development'\r\n    }\r\n  },\r\n  computed: {\r\n    directions() {\r\n      return this.animates.find(item => item.name == this.animate.name).directions\r\n    },\r\n    ...mapState('setting', ['theme', 'layout', 'animate', 'animates', 'palettes', 'multiPage', 'weekMode', 'fixedHeader', 'fixedSideBar', 'hideSetting', 'pageWidth'])\r\n  },\r\n  watch: {\r\n    'animate.name': function(val) {\r\n      this.setAnimate({name: val, direction: this.directions[0]})\r\n    }\r\n  },\r\n  methods: {\r\n    getPopupContainer() {\r\n      return this.$el.parentNode\r\n    },\r\n    copyCode () {\r\n      let config = this.extractConfig(false)\r\n      this.copyConfig = `// 自定义配置，参考 ./default/setting.config.js，需要自定义的属性在这里配置即可\r\n      module.exports = ${formatConfig(config)}\r\n      `\r\n      let clipboard = new Clipboard('#copyBtn')\r\n      clipboard.on('success', () => {\r\n        this.$message.success(`复制成功，覆盖文件 src/config/config.js 然后重启项目即可生效`).then(() => {\r\n          const localConfig = localStorage.getItem(process.env.VUE_APP_SETTING_KEY)\r\n          if (localConfig) {\r\n            console.warn('检测到本地有历史保存的主题配置，想要要拷贝的配置代码生效，您可能需要先重置配置')\r\n            this.$message.warn('检测到本地有历史保存的主题配置，想要要拷贝的配置代码生效，您可能需要先重置配置', 5)\r\n          }\r\n        })\r\n        clipboard.destroy()\r\n      })\r\n    },\r\n    saveSetting() {\r\n      const closeMessage = this.$message.loading('正在保存到本地，请稍后...', 0)\r\n      const config = this.extractConfig(true)\r\n      localStorage.setItem(process.env.VUE_APP_SETTING_KEY, JSON.stringify(config))\r\n      setTimeout(closeMessage, 800)\r\n    },\r\n    resetSetting() {\r\n      this.$confirm({\r\n        title: '重置主题会刷新页面，当前页面内容不会保留，确认重置？',\r\n        onOk() {\r\n          localStorage.removeItem(process.env.VUE_APP_SETTING_KEY)\r\n          window.location.reload()\r\n        }\r\n      })\r\n    },\r\n    //提取配置\r\n    extractConfig(local = false) {\r\n      let config = {}\r\n      let mySetting = this.$store.state.setting\r\n      let dftSetting = local ? deepMerge(setting, sysConfig) : setting\r\n      Object.keys(mySetting).forEach(key => {\r\n        const dftValue = dftSetting[key], myValue = mySetting[key]\r\n        if (dftValue != undefined && !fastEqual(dftValue, myValue)) {\r\n          config[key] = myValue\r\n        }\r\n      })\r\n      return config\r\n    },\r\n    ...mapMutations('setting', ['setTheme', 'setLayout', 'setMultiPage', 'setWeekMode',\r\n      'setFixedSideBar', 'setFixedHeader', 'setAnimate', 'setHideSetting', 'setPageWidth'])\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .side-setting{\r\n    min-height: 100%;\r\n    background-color: @base-bg-color;\r\n    padding: 24px;\r\n    font-size: 14px;\r\n    line-height: 1.5;\r\n    word-wrap: break-word;\r\n    position: relative;\r\n    .flex{\r\n      display: flex;\r\n    }\r\n    .select-item{\r\n      width: 80px;\r\n    }\r\n  }\r\n</style>\r\n"]}]}