{"remainingRequest":"D:\\ServerPlatformWeb\\node_modules\\babel-loader\\lib\\index.js!D:\\ServerPlatformWeb\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\ServerPlatformWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ServerPlatformWeb\\src\\pages\\demo\\Demo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ServerPlatformWeb\\src\\pages\\demo\\Demo.vue","mtime":1651046622930},{"path":"D:\\ServerPlatformWeb\\babel.config.js","mtime":1649217944413},{"path":"D:\\ServerPlatformWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ServerPlatformWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\ServerPlatformWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ServerPlatformWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU3RhbmRhcmRUYWJsZSBmcm9tICdAL2NvbXBvbmVudHMvdGFibGUvU3RhbmRhcmRUYWJsZSc7CmltcG9ydCB7IGdldERldmljZSB9IGZyb20gIkAvc2VydmljZXMvZGV2aWNlIjsKdmFyIGNvbHVtbnMgPSBbewogIHRpdGxlOiAn6K6+5aSH57yW5Y+3JywKICBkYXRhSW5kZXg6ICdpZCcKfSwgewogIHRpdGxlOiAnYXBwSWQnLAogIGRhdGFJbmRleDogJ2FwcElkJywKICBzY29wZWRTbG90czogewogICAgY3VzdG9tUmVuZGVyOiAnZGVzY3JpcHRpb24nCiAgfQp9LCB7CiAgdGl0bGU6ICdhcHAnLAogIGRhdGFJbmRleDogJ2FwcCcsCiAgc29ydGVyOiB0cnVlLAogIG5lZWRUb3RhbDogdHJ1ZSwKICBjdXN0b21SZW5kZXI6IGZ1bmN0aW9uIGN1c3RvbVJlbmRlcih0ZXh0KSB7CiAgICByZXR1cm4gdGV4dCArICcg5qyhJzsKICB9Cn0sIHsKICB0aXRsZTogJ+ebkeaOp+eKtuaAgScsCiAgZGF0YUluZGV4OiAnc3RhdHVzJywKICBuZWVkVG90YWw6IHRydWUsCiAgc2xvdHM6IHsKICAgIHRpdGxlOiAnc3RhdHVzVGl0bGUnCiAgfQp9LCB7CiAgdGl0bGU6ICfmm7TmlrDml7bpl7QnLAogIGRhdGFJbmRleDogJ3VwZGF0ZWRBdCcsCiAgc29ydGVyOiB0cnVlCn0sIHsKICB0aXRsZTogJ+aTjeS9nCcsCiAgc2NvcGVkU2xvdHM6IHsKICAgIGN1c3RvbVJlbmRlcjogJ2FjdGlvbicKICB9Cn1dOwp2YXIgZGF0YVNvdXJjZSA9IFtdOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0RlbW8nLAogIGNvbXBvbmVudHM6IHsKICAgIFN0YW5kYXJkVGFibGU6IFN0YW5kYXJkVGFibGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhZHZhbmNlZDogdHJ1ZSwKICAgICAgY29sdW1uczogY29sdW1ucywKICAgICAgZGF0YVNvdXJjZTogZGF0YVNvdXJjZSwKICAgICAgc2VsZWN0ZWRSb3dzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgZGF0YSA9IHsKICAgICAgInByb2RJZCI6IDEKICAgIH07CiAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgIGdldERldmljZShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgdmFyIHNvdXJjZSA9IHJlcy5kYXRhOwogICAgICBjb25zb2xlLmxvZyhzb3VyY2VbMV0pOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHsKICAgICAgICBkYXRhU291cmNlLnB1c2goewogICAgICAgICAga2V5OiBpLAogICAgICAgICAgaWQ6IHNvdXJjZVtpXS5pZCwKICAgICAgICAgIGFwcElkOiBzb3VyY2VbaV0uYXBwSWQsCiAgICAgICAgICBhcHA6IHNvdXJjZVtpXS5hcHAsCiAgICAgICAgICBzdGF0dXM6IHNvdXJjZVtpXS5pc01vbml0b3IsCiAgICAgICAgICB1cGRhdGVkQXQ6IHNvdXJjZVtpXS51cGRhdGVkQXQKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfSwKICBhdXRob3JpemU6IHsKICAgIGRlbGV0ZVJlY29yZDogJ2RlbGV0ZScKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZVJlY29yZDogZnVuY3Rpb24gZGVsZXRlUmVjb3JkKGtleSkgewogICAgICB0aGlzLmRhdGFTb3VyY2UgPSB0aGlzLmRhdGFTb3VyY2UuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ua2V5ICE9PSBrZXk7CiAgICAgIH0pOwogICAgICB0aGlzLnNlbGVjdGVkUm93cyA9IHRoaXMuc2VsZWN0ZWRSb3dzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmtleSAhPT0ga2V5OwogICAgICB9KTsKICAgIH0sCiAgICB0b2dnbGVBZHZhbmNlZDogZnVuY3Rpb24gdG9nZ2xlQWR2YW5jZWQoKSB7CiAgICAgIHRoaXMuYWR2YW5jZWQgPSAhdGhpcy5hZHZhbmNlZDsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZGF0YVNvdXJjZSA9IHRoaXMuZGF0YVNvdXJjZS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gX3RoaXMuc2VsZWN0ZWRSb3dzLmZpbmRJbmRleChmdW5jdGlvbiAocm93KSB7CiAgICAgICAgICByZXR1cm4gcm93LmtleSA9PT0gaXRlbS5rZXk7CiAgICAgICAgfSkgPT09IC0xOwogICAgICB9KTsKICAgICAgdGhpcy5zZWxlY3RlZFJvd3MgPSBbXTsKICAgIH0sCiAgICBvbkNsZWFyOiBmdW5jdGlvbiBvbkNsZWFyKCkgewogICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+aCqOa4heepuuS6huWLvumAieeahOaJgOacieihjCcpOwogICAgfSwKICAgIG9uU3RhdHVzVGl0bGVDbGljazogZnVuY3Rpb24gb25TdGF0dXNUaXRsZUNsaWNrKCkgewogICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+S9oOeCueWHu+S6hueKtuaAgeagj+ihqOWktCcpOwogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHsKICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCfooajmoLznirbmgIHmlLnlj5jkuoYnKTsKICAgIH0sCiAgICBvblNlbGVjdENoYW5nZTogZnVuY3Rpb24gb25TZWxlY3RDaGFuZ2UoKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygn6YCJ5Lit6KGM5pS55Y+Y5LqGJyk7CiAgICB9LAogICAgYWRkTmV3OiBmdW5jdGlvbiBhZGROZXcoKSB7CiAgICAgIHRoaXMuZGF0YVNvdXJjZS51bnNoaWZ0KHsKICAgICAgICBrZXk6IHRoaXMuZGF0YVNvdXJjZS5sZW5ndGgsCiAgICAgICAgbm86ICdOTyAnICsgdGhpcy5kYXRhU291cmNlLmxlbmd0aCwKICAgICAgICBkZXNjcmlwdGlvbjogJ+i/meaYr+S4gOauteaPj+i/sCcsCiAgICAgICAgY2FsbE5vOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKSwKICAgICAgICBzdGF0dXM6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSAlIDQsCiAgICAgICAgdXBkYXRlZEF0OiAnMjAxOC0wNy0yNicKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlTWVudUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVNZW51Q2xpY2soZSkgewogICAgICBpZiAoZS5rZXkgPT09ICdkZWxldGUnKSB7CiAgICAgICAgdGhpcy5yZW1vdmUoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA,eACA;AACAA,eADA;AAEAC;AAFA,CADA,EAKA;AACAD,gBADA;AAEAC,oBAFA;AAGAC;AAAAC;AAAA;AAHA,CALA,EAUA;AACAH,cADA;AAEAC,kBAFA;AAGAG,cAHA;AAIAC,iBAJA;AAKAF;AAAA;AAAA;AALA,CAVA,EAiBA;AACAH,eADA;AAEAC,qBAFA;AAGAI,iBAHA;AAIAC;AAAAN;AAAA;AAJA,CAjBA,EAuBA;AACAA,eADA;AAEAC,wBAFA;AAGAG;AAHA,CAvBA,EA4BA;AACAJ,aADA;AAEAE;AAAAC;AAAA;AAFA,CA5BA;AAkCA;AAEA;AACAI,cADA;AAEAC;AAAAC;AAAA,GAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,oBADA;AAEAC,sBAFA;AAGAC,4BAHA;AAIAC;AAJA;AAMA,GAVA;AAWAC;AACA;AAAA;AAAA;AACAC;AACAC;AACA;AACAD;;AACA;AACAH;AACAK,gBADA;AAEAC,0BAFA;AAGAC,gCAHA;AAIAC,4BAJA;AAKAC,qCALA;AAMAC;AANA;AAQA;AACA,KAbA;AAcA,GA5BA;AA6BAC;AACAC;AADA,GA7BA;AAgCAC;AACAD,gBADA,wBACAP,GADA,EACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA,KAJA;AAKAS,kBALA,4BAKA;AACA;AACA,KAPA;AAQAC,UARA,oBAQA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,KAXA;AAYAC,WAZA,qBAYA;AACA;AACA,KAdA;AAeAC,sBAfA,gCAeA;AACA;AACA,KAjBA;AAkBAC,YAlBA,sBAkBA;AACA;AACA,KApBA;AAqBAC,kBArBA,4BAqBA;AACA;AACA,KAvBA;AAwBAC,UAxBA,oBAwBA;AACA;AACAf,mCADA;AAEAgB,0CAFA;AAGAC,6BAHA;AAIAC,gDAJA;AAKAd,kDALA;AAMAC;AANA;AAQA,KAjCA;AAkCAc,mBAlCA,2BAkCAC,CAlCA,EAkCA;AACA;AACA;AACA;AACA;AAtCA;AAhCA","names":["title","dataIndex","scopedSlots","customRender","sorter","needTotal","slots","name","components","StandardTable","data","advanced","columns","dataSource","selectedRows","created","console","getDevice","key","id","appId","app","status","updatedAt","authorize","deleteRecord","methods","toggleAdvanced","remove","onClear","onStatusTitleClick","onChange","onSelectChange","addNew","no","description","callNo","handleMenuClick","e"],"sourceRoot":"src/pages/demo","sources":["Demo.vue"],"sourcesContent":["<template>\r\n  <a-card>\r\n    <div :class=\"advanced ? 'search' : null\">\r\n      <a-form layout=\"horizontal\">\r\n        <div :class=\"advanced ? null: 'fold'\">\r\n          <a-row >\r\n            <a-col :md=\"8\" :sm=\"24\" >\r\n              <a-form-item\r\n                      label=\"规则编号\"\r\n                      :labelCol=\"{span: 5}\"\r\n                      :wrapperCol=\"{span: 18, offset: 1}\"\r\n              >\r\n                <a-input placeholder=\"请输入\" />\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\" >\r\n              <a-form-item\r\n                      label=\"使用状态\"\r\n                      :labelCol=\"{span: 5}\"\r\n                      :wrapperCol=\"{span: 18, offset: 1}\"\r\n              >\r\n                <a-select placeholder=\"请选择\">\r\n                  <a-select-option value=\"1\">关闭</a-select-option>\r\n                  <a-select-option value=\"2\">运行中</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\" >\r\n              <a-form-item\r\n                      label=\"调用次数\"\r\n                      :labelCol=\"{span: 5}\"\r\n                      :wrapperCol=\"{span: 18, offset: 1}\"\r\n              >\r\n                <a-input-number style=\"width: 100%\" placeholder=\"请输入\" />\r\n              </a-form-item>\r\n            </a-col>\r\n          </a-row>\r\n          <a-row v-if=\"advanced\">\r\n            <a-col :md=\"8\" :sm=\"24\" >\r\n              <a-form-item\r\n                      label=\"更新日期\"\r\n                      :labelCol=\"{span: 5}\"\r\n                      :wrapperCol=\"{span: 18, offset: 1}\"\r\n              >\r\n                <a-date-picker style=\"width: 100%\" placeholder=\"请输入更新日期\" />\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\" >\r\n              <a-form-item\r\n                      label=\"使用状态\"\r\n                      :labelCol=\"{span: 5}\"\r\n                      :wrapperCol=\"{span: 18, offset: 1}\"\r\n              >\r\n                <a-select placeholder=\"请选择\">\r\n                  <a-select-option value=\"1\">关闭</a-select-option>\r\n                  <a-select-option value=\"2\">运行中</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\" >\r\n              <a-form-item\r\n                      label=\"描述\"\r\n                      :labelCol=\"{span: 5}\"\r\n                      :wrapperCol=\"{span: 18, offset: 1}\"\r\n              >\r\n                <a-input placeholder=\"请输入\" />\r\n              </a-form-item>\r\n            </a-col>\r\n          </a-row>\r\n        </div>\r\n        <span style=\"float: right; margin-top: 3px;\">\r\n          <a-button type=\"primary\">查询</a-button>\r\n          <a-button style=\"margin-left: 8px\">重置</a-button>\r\n          <a @click=\"toggleAdvanced\" style=\"margin-left: 8px\">\r\n            {{advanced ? '收起' : '展开'}}\r\n            <a-icon :type=\"advanced ? 'up' : 'down'\" />\r\n          </a>\r\n        </span>\r\n      </a-form>\r\n    </div>\r\n    <div>\r\n      <a-space class=\"operator\">\r\n        <a-button @click=\"addNew\" type=\"primary\">新建</a-button>\r\n        <a-button >批量操作</a-button>\r\n        <a-dropdown>\r\n          <a-menu @click=\"handleMenuClick\" slot=\"overlay\">\r\n            <a-menu-item key=\"delete\">删除</a-menu-item>\r\n            <a-menu-item key=\"audit\">审批</a-menu-item>\r\n          </a-menu>\r\n          <a-button>\r\n            更多操作 <a-icon type=\"down\" />\r\n          </a-button>\r\n        </a-dropdown>\r\n      </a-space>\r\n      <standard-table\r\n              :columns=\"columns\"\r\n              :dataSource=\"dataSource\"\r\n              :selectedRows.sync=\"selectedRows\"\r\n              @clear=\"onClear\"\r\n              @change=\"onChange\"\r\n              @selectedRowChange=\"onSelectChange\"\r\n      >\r\n        <div slot=\"description\" slot-scope=\"{text}\">\r\n          {{text}}\r\n        </div>\r\n        <div slot=\"action\" slot-scope=\"{text, record}\">\r\n          <a style=\"margin-right: 8px\">\r\n            <a-icon type=\"plus\"/>新增\r\n          </a>\r\n          <a style=\"margin-right: 8px\">\r\n            <a-icon type=\"edit\"/>编辑\r\n          </a>\r\n          <a @click=\"deleteRecord(record.key)\">\r\n            <a-icon type=\"delete\" />删除1\r\n          </a>\r\n          <a @click=\"deleteRecord(record.key)\" v-auth=\"`delete`\">\r\n            <a-icon type=\"delete\" />删除2\r\n          </a>\r\n          <router-link :to=\"`/list/query/detail/${record.key}`\" >详情</router-link>\r\n        </div>\r\n        <template slot=\"statusTitle\">\r\n          <a-icon @click.native=\"onStatusTitleClick\" type=\"info-circle\" />\r\n        </template>\r\n      </standard-table>\r\n    </div>\r\n  </a-card>\r\n</template>\r\n\r\n<script>\r\n  import StandardTable from '@/components/table/StandardTable'\r\n  import {getDevice} from \"@/services/device\";\r\n  const columns = [\r\n    {\r\n      title: '设备编号',\r\n      dataIndex: 'id'\r\n    },\r\n    {\r\n      title: 'appId',\r\n      dataIndex: 'appId',\r\n      scopedSlots: { customRender: 'description' }\r\n    },\r\n    {\r\n      title: 'app',\r\n      dataIndex: 'app',\r\n      sorter: true,\r\n      needTotal: true,\r\n      customRender: (text) => text + ' 次'\r\n    },\r\n    {\r\n      title: '监控状态',\r\n      dataIndex: 'status',\r\n      needTotal: true,\r\n      slots: {title: 'statusTitle'}\r\n    },\r\n    {\r\n      title: '更新时间',\r\n      dataIndex: 'updatedAt',\r\n      sorter: true\r\n    },\r\n    {\r\n      title: '操作',\r\n      scopedSlots: { customRender: 'action' }\r\n    }\r\n  ];\r\n\r\n  const dataSource = [];\r\n\r\n  export default {\r\n    name: 'Demo',\r\n    components: {StandardTable},\r\n    data () {\r\n      return {\r\n        advanced: true,\r\n        columns: columns,\r\n        dataSource: dataSource,\r\n        selectedRows: []\r\n      }\r\n    },\r\n    created: function(){\r\n      let data = {\"prodId\":1};\r\n      console.log(data);\r\n      getDevice(data).then(res => {\r\n        let source = res.data;\r\n        console.log(source[1]);\r\n        for (let i = 0; i < source.length;i++){\r\n          dataSource.push({\r\n            key: i,\r\n            id: source[i].id,\r\n            appId: source[i].appId,\r\n            app: source[i].app,\r\n            status: source[i].isMonitor,\r\n            updatedAt: source[i].updatedAt\r\n          })\r\n        }\r\n      });\r\n    },\r\n    authorize: {\r\n      deleteRecord: 'delete'\r\n    },\r\n    methods: {\r\n      deleteRecord(key) {\r\n        this.dataSource = this.dataSource.filter(item => item.key !== key)\r\n        this.selectedRows = this.selectedRows.filter(item => item.key !== key)\r\n      },\r\n      toggleAdvanced () {\r\n        this.advanced = !this.advanced\r\n      },\r\n      remove () {\r\n        this.dataSource = this.dataSource.filter(item => this.selectedRows.findIndex(row => row.key === item.key) === -1)\r\n        this.selectedRows = []\r\n      },\r\n      onClear() {\r\n        this.$message.info('您清空了勾选的所有行')\r\n      },\r\n      onStatusTitleClick() {\r\n        this.$message.info('你点击了状态栏表头')\r\n      },\r\n      onChange() {\r\n        this.$message.info('表格状态改变了')\r\n      },\r\n      onSelectChange() {\r\n        this.$message.info('选中行改变了')\r\n      },\r\n      addNew () {\r\n        this.dataSource.unshift({\r\n          key: this.dataSource.length,\r\n          no: 'NO ' + this.dataSource.length,\r\n          description: '这是一段描述',\r\n          callNo: Math.floor(Math.random() * 1000),\r\n          status: Math.floor(Math.random() * 10) % 4,\r\n          updatedAt: '2018-07-26'\r\n        })\r\n      },\r\n      handleMenuClick (e) {\r\n        if (e.key === 'delete') {\r\n          this.remove()\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .search{\r\n    margin-bottom: 54px;\r\n  }\r\n  .fold{\r\n    width: calc(100% - 216px);\r\n    display: inline-block\r\n  }\r\n  .operator{\r\n    margin-bottom: 18px;\r\n  }\r\n  @media screen and (max-width: 900px) {\r\n    .fold {\r\n      width: 100%;\r\n    }\r\n  }\r\n</style>\r\n"]}]}